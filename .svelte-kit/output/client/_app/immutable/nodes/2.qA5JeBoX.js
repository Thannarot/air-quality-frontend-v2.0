import{K as oe,S as Ve,i as He,s as $e,j as u,a as L,k as f,D as j,c as V,l as y,g as v,m as c,b as se,L as ve,M as z,N as aa,O as yt,o as ps,P as G,v as Se,Q as la,R as Ge,T as na,U as ra,V as ia,p as Te,x as ce,q as Le,y as de,n as Ue,F as l,z as ue,r as Dt,W as je,f as Z,t as J,A as fe,X as Zt,C as Vs,G as le,Y as oa,Z as ca,H as Hs,I as $s,J as Ps,$ as Mt,a0 as da,a1 as ua,a2 as zs,a3 as fa,a4 as pa,a5 as It,a6 as Kt,a7 as Qe,a8 as ms,a9 as it,aa as Qt,ab as Gt,ac as Js,ad as Xs,ae as ma,af as ha,ag as ga,ah as va,ai as _a,aj as Ys,ak as ba,al as ea,d as Tt,u as Lt,am as wa}from"../chunks/vendor.C3i2tAgf.js";const ya=!1,xa=!0,ka=!0,Cl=Object.freeze(Object.defineProperty({__proto__:null,csr:xa,prerender:ka,ssr:ya},Symbol.toStringTag,{value:"Module"})),rs="http://localhost:8080/api/",wt="http://216.218.240.247:8080/thredds/wms/",Da="https://wind-data-servir.adpc.net/latest",Ia={},Ut=oe(""),kt=oe(""),Jt=oe(""),lt=oe(""),is=oe(""),xt=oe(""),Vt=oe(""),os=oe(!1),nt=oe(""),Pt=oe(""),Nt=oe(""),ns=oe(""),zt=oe(""),ot=oe(!1),qt=oe(!1),$t=oe(!1),St=oe(!1),Ct=oe(!1),cs=oe(""),ds=oe(""),Ne=oe(!1),Ke=oe(!1),us=oe(""),fs=oe(""),qs=oe(""),jt=oe([{value:"BC_DNN_PM25",name:"PM2.5"}]);function rt(e,t){e.getLayer(t)&&e.removeLayer(t)}function Ht(e,t){e.getSource(t)&&e.removeSource(t)}function Sa(e,t,s){rt(e,"station-point"),rt(e,"marker-text"),Ht(e,"station-data"),e.addSource("station-data",{type:"geojson",data:s,cluster:!1}),e.addLayer({id:"station-point",type:"circle",source:"station-data",paint:{"circle-color":["get","color_class"],"circle-radius":10,"circle-stroke-width":1,"circle-stroke-color":"#fff"}}),e.addLayer({id:"marker-text",type:"symbol",source:"station-data",layout:{"text-field":["get","pm25"],"text-font":["DIN Offc Pro Medium","Arial Unicode MS Bold"],"text-size":12}}),e.setLayerZoomRange("station-point",2,22),e.setLayerZoomRange("marker-text",2,22),e.on("click","station-point",a=>{const n=a.features[0].geometry.coordinates.slice();for(console.log(a.features[0].properties.name);Math.abs(a.lngLat.lng-n[0])>180;)n[0]+=a.lngLat.lng>n[0]?360:-360;new t.Popup().setLngLat(n).setHTML('<div class="point-popup-val">'+a.features[0].properties.name+"</div>").addTo(e)}),e.on("mouseenter","clusters",()=>{e.getCanvas().style.cursor="pointer"}),e.on("mouseleave","clusters",()=>{e.getCanvas().style.cursor=""})}function Ca(e){for(var t={type:"FeatureCollection",features:[]},s=0;s<e.length;s++){var a=e[s].rid;let n=e[s].station_id,r=e[s].latest_data,o=e[s].lon,i=e[s].lat,m=e[s].pm25,k=e[s].name,I=e[s].aqi,w=e[s].aqi_level,h="#000000";m>80?h="#DE544D":m<=80&&m>60?h="#F2A63B":m<=60&&m>40?h="#FFFF54":m<=40&&m>20?h="#9FCE62":m<=20&&(h="#6ACAFA");let D={id:a,stationsID:n,latest_data:r,lon:o,lat:i,pm25:m,name:k,aqi:I,aqi_level:w,color_class:h};t.features.push({type:"Feature",properties:D,geometry:{type:"Point",coordinates:[o,i]}})}return t}function Ma(e){let t,s='<canvas id="mapcanvas" class="relative w-full h-screen"></canvas>',a,n;return{c(){t=u("div"),t.innerHTML=s,a=L(),n=u("div"),this.h()},l(r){t=f(r,"DIV",{class:!0,"data-svelte-h":!0}),j(t)!=="svelte-lapt2t"&&(t.innerHTML=s),a=V(r),n=f(r,"DIV",{id:!0,class:!0}),y(n).forEach(v),this.h()},h(){c(t,"class","wind-map-container"),c(n,"id","map-container"),c(n,"class","relative w-full h-screen")},m(r,o){se(r,t,o),se(r,a,o),se(r,n,o),e[16](n)},p:ve,i:ve,o:ve,d(r){r&&(v(t),v(a),v(n)),e[16](null)}}}function Ea(e){const t=e.getCanvas(),s=e.getBounds();return{width:t.width,height:t.height,north:s.getNorth(),south:s.getSouth(),west:s.getWest(),east:s.getEast(),zoomLevel:e.getZoom()}}function Ta(e,t,s){let a,n,r,o,i,m,k,I,w,h,D,b,_,g;z(e,nt,C=>s(5,a=C)),z(e,Pt,C=>s(6,n=C)),z(e,qt,C=>s(7,r=C)),z(e,ot,C=>s(8,o=C)),z(e,$t,C=>s(9,i=C)),z(e,zt,C=>s(10,m=C)),z(e,Vt,C=>s(11,k=C)),z(e,Jt,C=>s(12,I=C)),z(e,Nt,C=>s(13,w=C)),z(e,kt,C=>s(14,h=C)),z(e,Ut,C=>s(15,D=C)),z(e,ds,C=>s(25,b=C)),z(e,cs,C=>s(26,_=C)),z(e,lt,C=>s(27,g=C));let{map:d}=t,{Draw:x}=t,p,T,q,H,F,E,P,B=[],N="";aa(Ia,{getMap:()=>d,getMapBoxDraw:()=>x}),yt.accessToken="pk.eyJ1Ijoic2VydmlybWVrb25nIiwiYSI6ImNrYWMzenhldDFvNG4yeXBtam1xMTVseGoifQ.Wr-FBcvcircZ0qyItQTq9g",T=105.224518,q=11.113995,H=4;function K(){H=d.getZoom(),T=d.getCenter().lng,q=d.getCenter().lat}function X(C,$){console.log("addTileMap"),console.log(n),console.log(a),console.log(w),setTimeout(()=>{rt(d,"wms-layer"),Ht(d,"wms-source");const M=I.replace("-","").replace("-","");console.log("Initialization Date",M),C==="pm25"&&($==="geos"?G(lt,g=`${wt}/ServirData/${a}/${M}.nc?service=WMS
					&request=GetMap
					&layers=${w}
					&styles=default-scalar%2Fpm25
					&format=image%2Fpng
					&transparent=true
					&version=1.3.0
					&time=${D}T${h.replace("h","")}:30:00Z
					&colorscalerange=0%2C200
					&abovemaxcolor=extend
					&belowmincolor=extend
					&width=256
					&height=256
					&crs=EPSG:3857
					&bbox={bbox-epsg-3857}`,g):$==="geos5"&&G(lt,g=`${wt}/ServirData/${a}/20230507.nc?service=WMS
					&request=GetMap
					&layers=${w}
					&styles=default-scalar%2Fpm25
					&format=image/png;mode=32bit
					&transparent=true
					&version=1.3.0
					&time=2023-05-7T${h.replace("h","")}:30:00Z
					&colorscalerange=0%2C200
					&abovemaxcolor=extend
					&belowmincolor=extend
					&width=256
					&height=256
					&crs=EPSG:3857
					&bbox={bbox-epsg-3857}`,g)),C==="no2"&&G(lt,g=`${wt}/ServirData/${a}/GEMS_NO2_20240228_0645_FC_SERVIRSEA.nc?service=WMS
				&request=GetMap
				&layers=${n}
				&styles=default-scalar%2Fno2
				&format=image%2Fpng
				&transparent=true
				&version=1.3.0
				&colorscalerange=0%2C5
				&abovemaxcolor=extend
				&belowmincolor=extend
				&width=256&height=256
				&crs=EPSG:3857
				&bbox={bbox-epsg-3857}`,g),d.addSource("wms-source",{type:"raster",tiles:[g],tileSize:256}),d.addLayer({id:"wms-layer",name:"wms-layer",type:"raster",source:"wms-source",paint:{}},"building"),d.setPaintProperty("wms-layer","raster-opacity",.7),d.getStyle().layers.map(O=>O.id).includes("fire-wms-layer")&&(console.log("fire layer active"),d.moveLayer("wms-layer","fire-wms-layer"))},200)}function me(C){s(4,N=C),setTimeout(()=>{rt(d,"fire-wms-layer"),Ht(d,"fire-wms-source");const $=I.replace("-","").replace("-","");console.log("Initialization Date",$);let M="https://firms.modaps.eosdis.nasa.gov/mapserve/wms/fires/37601af187a7c4054759a42043b19adc/?REQUEST=GetMap&layers=fires_viirs_24&WIDTH=512&HEIGHT=512&bbox={bbox-epsg-3857}0&SRS=EPSG:3857";C==="fires_viirs_24"?M=`https://firms.modaps.eosdis.nasa.gov/mapserver/wms/fires/37601af187a7c4054759a42043b19adc/?REQUEST=GetMap&layers=${C}&WIDTH=512&HEIGHT=512&bbox={bbox-epsg-3857}0&SRS=EPSG:3857`:C==="fires_viirs_48"?M=`https://firms.modaps.eosdis.nasa.gov/mapserver/wms/fires/37601af187a7c4054759a42043b19adc/?REQUEST=GetMap&layers=${C}&WIDTH=512&HEIGHT=512&bbox={bbox-epsg-3857}0&SRS=EPSG:3857`:C==="fires_viirs_time"&&(M=`https://firms.modaps.eosdis.nasa.gov/mapserver/wms/fires/37601af187a7c4054759a42043b19adc/?REQUEST=GetMap&layers=fires_viirs&TIME=${D}&WIDTH=512&HEIGHT=512&bbox={bbox-epsg-3857}0&SRS=EPSG:3857`),d.addSource("fire-wms-source",{type:"raster",tiles:[M],tileSize:512}),d.addLayer({id:"fire-wms-layer",type:"raster",source:"fire-wms-source",paint:{}},"building"),d.setPaintProperty("fire-wms-layer","raster-opacity",.8)},200)}function he(C,$){console.log("updateTileMap"),setTimeout(()=>{const M=I.replace("-","").replace("-","");C==="pm25"&&($==="geos"?G(lt,g=`${wt}/ServirData/${a}/${M}.nc?service=WMS
					&request=GetMap
					&layers=${w}
					&styles=default-scalar%2Fpm25
					&format=image%2Fpng
					&transparent=true
					&version=1.3.0
					&time=${D}T${h.replace("h","")}:30:00Z
					&colorscalerange=0%2C200
					&abovemaxcolor=extend
					&belowmincolor=extend
					&width=256
					&height=256
					&crs=EPSG:3857
					&bbox={bbox-epsg-3857}`,g):$==="geos5"&&G(lt,g=`${wt}/ServirData/${a}/20230507.nc?service=WMS
					&request=GetMap
					&layers=${w}
					&styles=default-scalar%2Fpm25
					&format=image/png;mode=32bit
					&transparent=true
					&version=1.3.0
					&time=2023-05-7T${h.replace("h","")}:30:00Z
					&colorscalerange=0%2C200
					&abovemaxcolor=extend
					&belowmincolor=extend
					&width=256
					&height=256
					&crs=EPSG:3857
					&bbox={bbox-epsg-3857}`,g)),C==="no2"&&G(lt,g=`${wt}/ServirData/${a}/GEMS_NO2_20240228_0645_FC_SERVIRSEA.nc?service=WMS
				&request=GetMap
				&layers=${w}
				&styles=default-scalar%2Fno2
				&format=image%2Fpng
				&transparent=true
				&version=1.3.0
				&colorscalerange=0%2C5
				&abovemaxcolor=extend
				&belowmincolor=extend
				&width=256&height=256
				&crs=EPSG:3857
				&bbox={bbox-epsg-3857}`,g),d.getSource("wms-source").setTiles([g])},200)}function S(){const C=x.getAll();var $=[];const M=C.features[C.features.length-1].id;C.features.forEach(W=>{W.id!==M&&$.push(W.id)}),x.delete($)}function re(C){const $=Ea(C),{zoomLevel:M,north:W,south:U,west:O,east:ne,width:pe,height:te}=$;mapcanvas.style.display="none",E&&E.stop(),P&&clearTimeout(P),P=setTimeout(function(){let ae=3;M>2&&(ae=4),M>3&&(ae=4.5),M>4&&(ae=4.7),M>5&&(ae=4.8),M>6&&(ae=5),mapcanvas.style.display="initial",mapcanvas.width=pe,mapcanvas.height=te,E.start([[0,0],[pe,te]],pe,te,[[O,U],[ne,W]],{particleLineWidth:ae,zoomLevel:M})},500)}ps(()=>{const C={lng:T,lat:q,zoom:H};s(1,d=new yt.Map({container:p,style:"mapbox://styles/servirmekong/cltiptdlg004y01ph1rm84xru",zoom:C.zoom,center:[C.lng,C.lat],maxBounds:[[-180,-60],[180,70]]}));const $={showCompass:!1};d.addControl(new yt.NavigationControl($),"bottom-right"),d.on("click","wms-layer",M=>{if(B.length>0)B.forEach(O=>O.remove()),B=[];else{B.forEach(ae=>ae.remove()),B=[];let O=M.lngLat;const ne=[O.lng.toFixed(3),O.lat.toFixed(3)];G(cs,_=ne.toString(),_),G(ds,b="Point",b),F=new yt.Popup({offset:5,className:"mapboxgl-popup-close-button"}).setText("Lat: "+O.lat.toFixed(3)+" Lon: "+O.lng.toFixed(3));const pe=document.createElement("div");pe.id="marker";const te=new yt.Marker(pe).setLngLat([O.lng,O.lat]).setPopup(F).addTo(d).togglePopup();B.push(te)}let W=document.querySelectorAll(".mapboxgl-popup-close-button");Array.from(W)[0].addEventListener("click",function(O){F.remove(),B.forEach(ne=>ne.remove()),B=[]})}),d.on("draw.modechange",M=>{S()}),d.on("draw.update",function(M){}),d.on("draw.delete",function(M){console.log("delete")}),d.on("move",()=>{K(),re(d)}),d.on("resize",M=>{re(d)}),fetch(Da).then(M=>M.json()).then(M=>{console.log(M),E=new Windy({canvas:mapcanvas,data:M}),re(d)})});function ee(){return d}function A(C){Se[C?"unshift":"push"](()=>{p=C,s(0,p)})}return e.$$set=C=>{"map"in C&&s(1,d=C.map),"Draw"in C&&s(2,x=C.Draw)},e.$$.update=()=>{if(e.$$.dirty[0]&4192&&I!==""&&X(n,a),e.$$.dirty[0]&53346&&D!==""&&h!==""&&I!==""&&d.getLayer("wms-layer")&&he(n,a),e.$$.dirty[0]&12386&&w&&I!==""&&d.getLayer("wms-layer")&&he(n,a),e.$$.dirty[0]&3170&&k!==""){let $=d.getStyle().layers.map(M=>M.id);d.setStyle("mapbox://styles/servirmekong/"+k),setTimeout(()=>{$.includes("wms-layer")&&X(n,a),$.includes("fire-wms-layer")&&me(m)},50)}e.$$.dirty[0]&514&&d&&i==!1&&d.getLayer("fire-wms-layer")&&(rt(d,"fire-wms-layer"),Ht(d,"fire-wms-source")),e.$$.dirty[0]&1538&&d&&i==!0&&!d.getLayer("fire-wms-layer")&&me(m),e.$$.dirty[0]&1554&&m!==N&&d&&i==!0&&me(m),e.$$.dirty[0]&514&&d&&i==!0&&d.getLayer("fire-wms-layer")&&d.setPaintProperty("fire-wms-layer","raster-opacity",.9),e.$$.dirty[0]&258&&d&&o==!1&&(rt(d,"station-point"),rt(d,"marker-text"),Ht(d,"station-data")),e.$$.dirty[0]&130&&d&&r==!1&&d.setPaintProperty("wms-layer","raster-opacity",0),e.$$.dirty[0]&226&&d&&r==!0&&d.getLayer("wms-layer")&&(console.log("ShowPollutant ture",n,a),d.setPaintProperty("wms-layer","raster-opacity",.7))},[p,d,x,ee,N,a,n,r,o,i,m,k,I,w,h,D,A]}class La extends Ve{constructor(t){super(),He(this,t,Ta,Ma,$e,{map:1,Draw:2,getMap:3},null,[-1,-1])}get getMap(){return this.$$.ctx[3]}}function Va(e){let t,s,a,n,r,o,i,m,k,I,w,h,D,b,_,g,d,x,p,T,q,H,F,E,P,B,N,K,X;function me(A){e[9](A)}let he={dynamicPositioning:"true",closeOnSelection:!0,format:"yyyy-MM-dd",placeholder:""};e[0]!==void 0&&(he.value=e[0]),b=new la({props:he}),Se.push(()=>Ge(b,"value",me));function S(A){e[11](A)}function re(A){e[12](A)}let ee={id:"time-range",formatter:e[10],max:e[5].length-1,range:"min",suffix:"h",pushy:!0,pips:!0,all:"label",float:!0};return e[2]!==void 0&&(ee.pipstep=e[2]),e[1]!==void 0&&(ee.values=e[1]),p=new na({props:ee}),Se.push(()=>Ge(p,"pipstep",S)),Se.push(()=>Ge(p,"values",re)),p.$on("change",e[13]),B=new ra({props:{size:"xl",class:"text-purple-900"}}),B.$on("click",e[7]),K=new ia({props:{size:"xl",class:"text-purple-900"}}),K.$on("click",e[6]),{c(){t=u("div"),s=u("div"),a=u("div"),n=u("div"),r=u("p"),o=Te(e[4]),i=L(),m=u("p"),k=Te(e[3]),I=Te(":00:00"),w=L(),h=u("div"),D=u("div"),ce(b.$$.fragment),g=L(),d=u("div"),x=u("div"),ce(p.$$.fragment),H=L(),F=u("div"),E=u("div"),P=u("div"),ce(B.$$.fragment),N=L(),ce(K.$$.fragment),this.h()},l(A){t=f(A,"DIV",{class:!0});var C=y(t);s=f(C,"DIV",{id:!0,class:!0});var $=y(s);a=f($,"DIV",{class:!0});var M=y(a);n=f(M,"DIV",{class:!0});var W=y(n);r=f(W,"P",{class:!0});var U=y(r);o=Le(U,e[4]),U.forEach(v),i=V(W),m=f(W,"P",{class:!0});var O=y(m);k=Le(O,e[3]),I=Le(O,":00:00"),O.forEach(v),W.forEach(v),M.forEach(v),w=V($),h=f($,"DIV",{class:!0});var ne=y(h);D=f(ne,"DIV",{class:!0});var pe=y(D);de(b.$$.fragment,pe),pe.forEach(v),ne.forEach(v),g=V($),d=f($,"DIV",{class:!0,style:!0});var te=y(d);x=f(te,"DIV",{class:!0,style:!0});var ae=y(x);de(p.$$.fragment,ae),ae.forEach(v),te.forEach(v),H=V($),F=f($,"DIV",{class:!0});var ze=y(F);E=f(ze,"DIV",{class:!0});var De=y(E);P=f(De,"DIV",{id:!0,class:!0});var ge=y(P);de(B.$$.fragment,ge),N=V(ge),de(K.$$.fragment,ge),ge.forEach(v),De.forEach(v),ze.forEach(v),$.forEach(v),C.forEach(v),this.h()},h(){c(r,"class","font-bold text-purple-900 mb-0"),c(m,"class","mb-0"),c(n,"class","text-center"),c(a,"class","flex p-2 border-end border-start svelte-qkqnwo"),c(D,"class",""),c(h,"class","flex p-2 border-end svelte-qkqnwo"),c(x,"class","p-2"),Ue(x,"width","-webkit-fill-available"),c(d,"class","basis-1/2"),Ue(d,"width","-webkit-fill-available"),c(P,"id","timeslider-btn"),c(P,"class","flex"),c(E,"class",""),c(F,"class","flex p-2 border-end border-start svelte-qkqnwo"),c(s,"id","timeslider"),c(s,"class","flex justify-center items-center svelte-qkqnwo"),c(t,"class","timeslider-class svelte-qkqnwo")},m(A,C){se(A,t,C),l(t,s),l(s,a),l(a,n),l(n,r),l(r,o),l(n,i),l(n,m),l(m,k),l(m,I),l(s,w),l(s,h),l(h,D),ue(b,D,null),l(s,g),l(s,d),l(d,x),ue(p,x,null),l(s,H),l(s,F),l(F,E),l(E,P),ue(B,P,null),l(P,N),ue(K,P,null),X=!0},p(A,[C]){(!X||C&16)&&Dt(o,A[4]),(!X||C&8)&&Dt(k,A[3]);const $={};!_&&C&1&&(_=!0,$.value=A[0],je(()=>_=!1)),b.$set($);const M={};!T&&C&4&&(T=!0,M.pipstep=A[2],je(()=>T=!1)),!q&&C&2&&(q=!0,M.values=A[1],je(()=>q=!1)),p.$set(M)},i(A){X||(Z(b.$$.fragment,A),Z(p.$$.fragment,A),Z(B.$$.fragment,A),Z(K.$$.fragment,A),X=!0)},o(A){J(b.$$.fragment,A),J(p.$$.fragment,A),J(B.$$.fragment,A),J(K.$$.fragment,A),X=!1},d(A){A&&v(t),fe(b),fe(p),fe(B),fe(K)}}}function Fs(e){let t=""+(e.getMonth()+1),s=""+e.getDate(),a=e.getFullYear();return t.length<2&&(t="0"+t),s.length<2&&(s="0"+s),[a,t,s].join("-")}function Ha(e,t,s){let a,n;z(e,xt,E=>s(3,a=E)),z(e,is,E=>s(4,n=E));let r=new Date,o=new Date,i=[10],m=1,k=[];const I=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],w=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];let h=Fs(new Date);function D(E,P,B){let N=moment(`2017-08-30T${E}:00`),K=moment(`2017-08-30T${P}:00`).subtract(B,"hours"),X=[];for(X.push(N.format("HH")),k.push(N.format("H"));X[X.length-1]<K.format("HH");)X.push(N.add(B,"hours").format("HH")),k.push(N.format("H"));return X}let b=D("01:00","24:00",3);m=1;async function _(E,P){let B="/api/mapclient/",N={action:"get-latest-date",dataset:"geos"};await Zt.get(B,{params:N,headers:{Authorization:"admin.KRg06uWinwXAL5SRRCBSmH2HON4tZKdpCItHpbZh7HghJFFH6mIizlNM01"}}).then(K=>{let X=K.data.slice(0,4)+"-"+K.data.substr(4,2)+"-"+K.data.substr(6,2);Jt.set(X),kt.set(E),Ut.set(P)}).catch(K=>{throw console.error(K),K})}function g(){i[0]===b.length-1?s(1,i=[0]):s(1,i=[i[0]+1]),kt.set(b[i]),G(xt,a=b[i],a)}function d(){i[0]===0?s(1,i=[b.length-1]):s(1,i=[i[0]-1]),kt.set(b[i]),G(xt,a=b[i],a)}function x(E){kt.set(b[E.detail.value]),G(xt,a=b[E.detail.value],a)}ps(async()=>{let E=r.getHours(),P=k.reduce(function(N,K){return Math.abs(K-E)<Math.abs(N-E)?K:N}),B=k.findIndex(N=>N===P);s(1,i=[B]),G(xt,a=b[B],a),_(b[B],h)});function p(E){o=E,s(0,o)}const T=E=>b[E];function q(E){m=E,s(2,m)}function H(E){i=E,s(1,i)}const F=E=>x(E);return e.$$.update=()=>{if(e.$$.dirty&1&&o){let E=o.getFullYear(),P=o.getMonth(),B=o.getDate(),N=o.getDay();G(is,n=I[N]+" "+w[P]+" "+B+" "+E,n),Ut.set(Fs(o))}},[o,i,m,a,n,b,g,d,x,p,T,q,H,F]}class $a extends Ve{constructor(t){super(),He(this,t,Ha,Va,$e,{})}}const Pa=e=>({}),Bs=e=>({});function za(e){let t,s,a,n="x",r,o,i,m,k,I,w;const h=e[3].header,D=Vs(h,e,e[2],Bs),b=e[3].default,_=Vs(b,e,e[2],null);return{c(){t=u("dialog"),s=u("div"),a=u("button"),a.textContent=n,r=L(),D&&D.c(),o=L(),_&&_.c(),i=L(),m=u("br"),this.h()},l(g){t=f(g,"DIALOG",{class:!0});var d=y(t);s=f(d,"DIV",{class:!0});var x=y(s);a=f(x,"BUTTON",{class:!0,"data-svelte-h":!0}),j(a)!=="svelte-vbf0fn"&&(a.textContent=n),r=V(x),D&&D.l(x),o=V(x),_&&_.l(x),i=V(x),m=f(x,"BR",{}),x.forEach(v),d.forEach(v),this.h()},h(){c(a,"class","modal-close-button svelte-1ao7csy"),c(s,"class","svelte-1ao7csy"),c(t,"class","svelte-1ao7csy")},m(g,d){se(g,t,d),l(t,s),l(s,a),l(s,r),D&&D.m(s,null),l(s,o),_&&_.m(s,null),l(s,i),l(s,m),e[6](t),k=!0,I||(w=[le(a,"click",e[5]),le(s,"click",oa(e[4])),le(t,"close",e[7]),le(t,"click",ca(e[8]))],I=!0)},p(g,[d]){D&&D.p&&(!k||d&4)&&Hs(D,h,g,g[2],k?Ps(h,g[2],d,Pa):$s(g[2]),Bs),_&&_.p&&(!k||d&4)&&Hs(_,b,g,g[2],k?Ps(b,g[2],d,null):$s(g[2]),null)},i(g){k||(Z(D,g),Z(_,g),k=!0)},o(g){J(D,g),J(_,g),k=!1},d(g){g&&v(t),D&&D.d(g),_&&_.d(g),e[6](null),I=!1,Mt(w)}}}function qa(e,t,s){let{$$slots:a={},$$scope:n}=t,{showModal:r}=t,o;da(()=>console.log("modal was destroyed!"));function i(h){ua.call(this,e,h)}const m=()=>o.close();function k(h){Se[h?"unshift":"push"](()=>{o=h,s(1,o)})}const I=()=>s(0,r=!1),w=()=>o.close();return e.$$set=h=>{"showModal"in h&&s(0,r=h.showModal),"$$scope"in h&&s(2,n=h.$$scope)},e.$$.update=()=>{e.$$.dirty&3&&o&&r&&o.showModal()},[r,o,n,a,i,m,k,I,w]}class Fa extends Ve{constructor(t){super(),He(this,t,qa,za,$e,{showModal:0})}}function Ba(e){let t,s,a='<a class="btn-tool d-block"><p class="icon d-flex align-items-center justify-content-center rounded-circle mx-auto"><img class="d-block" src="assets/img/icon/icon-tool-1.svg" alt=""/></p> <p class="text d-block text-sm text-center mb-0"><span class="d-block">Air</span> Quality</p></a>',n,r,o='<a class="btn-tool d-block"><p class="icon d-flex align-items-center justify-content-center rounded-circle mx-auto"><img class="d-block" src="assets/img/icon/icon-tool-2.svg" alt=""/></p> <p class="text d-block text-sm text-center mb-0"><span class="d-block">Ground</span> Station</p></a>',i,m,k='<a class="btn-tool d-block"><p class="icon d-flex align-items-center justify-content-center rounded-circle mx-auto"><img class="d-block" src="assets/img/icon/icon-tool-3.svg" alt=""/></p> <p class="text d-block text-sm text-center mb-0"><span class="d-block">Fire</span> Product</p></a>',I,w,h='<a class="btn-tool d-block"><p class="icon d-flex align-items-center justify-content-center rounded-circle mx-auto"><img class="d-block" src="assets/img/icon/icon-tool-4.svg" alt=""/></p> <p class="text d-block text-sm text-center mb-0"><span class="d-block">Statistics</span> Report</p></a>',D,b,_='<a class="btn-tool d-block"><p class="icon d-flex align-items-center justify-content-center rounded-circle mx-auto"><img class="d-block" src="assets/img/icon/icon-tool-5.svg" alt=""/></p> <p class="text d-block text-sm text-center mb-0"><span class="d-block">Base</span> Map</p></a>',g,d;return{c(){t=u("div"),s=u("div"),s.innerHTML=a,n=L(),r=u("div"),r.innerHTML=o,i=L(),m=u("div"),m.innerHTML=k,I=L(),w=u("div"),w.innerHTML=h,D=L(),b=u("div"),b.innerHTML=_,this.h()},l(x){t=f(x,"DIV",{class:!0});var p=y(t);s=f(p,"DIV",{class:!0,"data-svelte-h":!0}),j(s)!=="svelte-1lqf13n"&&(s.innerHTML=a),n=V(p),r=f(p,"DIV",{class:!0,"data-svelte-h":!0}),j(r)!=="svelte-j6j13u"&&(r.innerHTML=o),i=V(p),m=f(p,"DIV",{class:!0,"data-svelte-h":!0}),j(m)!=="svelte-1ph61d1"&&(m.innerHTML=k),I=V(p),w=f(p,"DIV",{class:!0,"data-svelte-h":!0}),j(w)!=="svelte-9oc9vu"&&(w.innerHTML=h),D=V(p),b=f(p,"DIV",{class:!0,"data-svelte-h":!0}),j(b)!=="svelte-191qql3"&&(b.innerHTML=_),p.forEach(v),this.h()},h(){c(s,"class","air-quality"),c(r,"class","ground-station"),c(m,"class","fire-product"),c(w,"class","statistics-map"),c(b,"class","base-map"),c(t,"class","detail")},m(x,p){se(x,t,p),l(t,s),l(t,n),l(t,r),l(t,i),l(t,m),l(t,I),l(t,w),l(t,D),l(t,b),g||(d=[le(s,"click",e[4]),le(s,"keydown",e[4]),le(r,"click",e[5]),le(r,"keydown",e[6]),le(m,"click",e[7]),le(m,"keydown",e[8]),le(w,"click",e[9]),le(w,"keydown",e[10]),le(b,"click",e[3])],g=!0)},p:ve,i:ve,o:ve,d(x){x&&v(t),g=!1,Mt(d)}}}function Aa(e,t,s){let a,n,r,o,i;z(e,Ct,g=>s(11,a=g)),z(e,St,g=>s(12,n=g)),z(e,ot,g=>s(0,r=g)),z(e,$t,g=>s(1,o=g)),z(e,Ne,g=>s(2,i=g));function m(){G(St,n=!n,n),n&&setTimeout(()=>{document.querySelectorAll("#mapsettingPanel").forEach(g=>g.style.display="block")},5)}function k(){G(Ct,a=!a,a),a&&setTimeout(()=>{document.querySelectorAll("#select_air_pollutant").forEach(g=>g.style.display="block")},5)}return[r,o,i,m,k,()=>G(ot,r=!r,r),()=>G(ot,r=!r,r),()=>G($t,o=!o,o),()=>G($t,o=!o,o),()=>G(Ne,i=!i,i),()=>G(Ne,i=!i,i)]}class Oa extends Ve{constructor(t){super(),He(this,t,Aa,Ba,$e,{})}}function Ra(e,t,s,a){let n=zs().domain(t).range(e),r=fa(a).append("svg").attr("width",270),i=r.append("defs").append("linearGradient").attr("id","linear-gradient");i.attr("x1","0%").attr("y1","0%").attr("x2","100%").attr("y2","0%"),i.selectAll("stop").data([{offset:"0%",color:e[0]},{offset:"10%",color:e[1]},{offset:"20%",color:e[2]},{offset:"30%",color:e[3]},{offset:"40%",color:e[4]},{offset:"50%",color:e[5]},{offset:"60%",color:e[6]},{offset:"70%",color:e[7]},{offset:"80%",color:e[8]},{offset:"90%",color:e[9]},{offset:"100%",color:e[10]}]).enter().append("stop").attr("offset",function(I){return I.offset}).attr("stop-color",function(I){return I.color}),r.append("rect").attr("x",10).attr("y",10).attr("width",250).attr("height",10).style("fill","url(#linear-gradient)");let m=zs().domain(s).range([10,250]),k=pa(m).tickValues(n.domain());r.attr("class","axis").append("g").attr("transform","translate(0, 15)").call(k)}function As(e,t,s){const a=e.slice();return a[11]=t[s],a}function Os(e){let t,s=e[11].name+"",a,n;return{c(){t=u("option"),a=Te(s),this.h()},l(r){t=f(r,"OPTION",{});var o=y(t);a=Le(o,s),o.forEach(v),this.h()},h(){t.__value=n=e[11].value,it(t,t.__value)},m(r,o){se(r,t,o),l(t,a)},p(r,o){o&2&&s!==(s=r[11].name+"")&&Dt(a,s),o&2&&n!==(n=r[11].value)&&(t.__value=n,it(t,t.__value))},d(r){r&&v(t)}}}function Ga(e){let t,s,a,n='<p class="text blue-600 text-sm mb-0">Surface PM 2.5 (ugm-3)</p> <p class="cursor-pointer icon ms-15 mb-0"><img class="d-block" style="height: 15px;" src="/assets/img/icon/head-information.svg" alt=""/></p>',r,o,i,m='<div id="legend" class="map-legend"></div>',k,I,w,h='<p class="icon mb-0"><img class="d-block w-100" src="/assets/img/icon/icon-ugm-2.svg" alt=""/></p>',D,b,_,g,d,x=It(e[1]),p=[];for(let T=0;T<x.length;T+=1)p[T]=Os(As(e,x,T));return{c(){t=u("div"),s=u("div"),a=u("div"),a.innerHTML=n,r=L(),o=u("div"),i=u("div"),i.innerHTML=m,k=L(),I=u("div"),w=u("div"),w.innerHTML=h,D=L(),b=u("div"),_=u("select");for(let T=0;T<p.length;T+=1)p[T].c();this.h()},l(T){t=f(T,"DIV",{class:!0});var q=y(t);s=f(q,"DIV",{class:!0});var H=y(s);a=f(H,"DIV",{class:!0,"data-svelte-h":!0}),j(a)!=="svelte-12x23ds"&&(a.innerHTML=n),r=V(H),o=f(H,"DIV",{class:!0});var F=y(o);i=f(F,"DIV",{class:!0,"data-svelte-h":!0}),j(i)!=="svelte-a75pea"&&(i.innerHTML=m),k=V(F),I=f(F,"DIV",{class:!0});var E=y(I);w=f(E,"DIV",{class:!0,"data-svelte-h":!0}),j(w)!=="svelte-1al5iwn"&&(w.innerHTML=h),D=V(E),b=f(E,"DIV",{class:!0});var P=y(b);_=f(P,"SELECT",{id:!0,class:!0});var B=y(_);for(let N=0;N<p.length;N+=1)p[N].l(B);B.forEach(v),P.forEach(v),E.forEach(v),F.forEach(v),H.forEach(v),q.forEach(v),this.h()},h(){c(a,"class","head border-bottom border-green d-flex align-items-center justify-content-between mb-1 pb-05 w-100"),c(i,"class","box__color mb-05"),c(w,"class","col-2"),c(_,"id","select2_satellite"),c(_,"class","nice-select wide selectize"),e[0]===void 0&&Kt(()=>e[5].call(_)),c(b,"class","col"),c(I,"class","row no-gutters align-items-center"),c(o,"class","box__description"),c(s,"class","info bg-white mb-2 p-15 rounded"),c(t,"class","item svelte-1lbf8na")},m(T,q){se(T,t,q),l(t,s),l(s,a),l(s,r),l(s,o),l(o,i),l(o,k),l(o,I),l(I,w),l(I,D),l(I,b),l(b,_);for(let H=0;H<p.length;H+=1)p[H]&&p[H].m(_,null);Qe(_,e[0],!0),g||(d=le(_,"change",e[5]),g=!0)},p(T,[q]){if(q&2){x=It(T[1]);let H;for(H=0;H<x.length;H+=1){const F=As(T,x,H);p[H]?p[H].p(F,q):(p[H]=Os(F),p[H].c(),p[H].m(_,null))}for(;H<p.length;H+=1)p[H].d(1);p.length=x.length}q&3&&Qe(_,T[0])},i:ve,o:ve,d(T){T&&v(t),ms(p,T),g=!1,d()}}}function ja(e,t,s){let a,n,r,o,i;z(e,nt,h=>s(0,a=h)),z(e,Pt,h=>s(4,n=h)),z(e,Nt,h=>s(6,r=h)),z(e,qt,h=>s(7,o=h)),z(e,jt,h=>s(1,i=h)),nt.set("geos5"),Pt.set("pm25"),Nt.set("BC_DNN_PM25");let{hiddenDrawer:m=!0}=t;G(qt,o=!0,o);let k=[],I={pm25:{geos:"BC_MLPM25",geos5:"BC_DNN_PM25"},no2:{gems:"ColumnAmountNO2Trop"}};ps(()=>{Ra(["#FFFFFF","#E0EFF4","#84A8CB","#7985BB","#8B6EA4","#B47C9E","#EA9394","#FCC495","#F8D19C","#FBEAC2","#FDECC7"],[0,50,100,150,200],[0,200],"#legend")});function w(){a=Qt(this),nt.set(a)}return e.$$set=h=>{"hiddenDrawer"in h&&s(2,m=h.hiddenDrawer)},e.$$.update=()=>{e.$$.dirty&24&&n==="no2"&&(s(3,k=[{value:"gems",name:"GEMS"},{value:"sentinel5p",name:"Sentinel 5P"}]),G(jt,i=k,i),G(nt,a="gems",a)),e.$$.dirty&24&&n==="pm25"&&(s(3,k=[{value:"geos",name:"GEOS-ML 25x25km"},{value:"geos5",name:"GEOS-ML 5x5km"}]),G(jt,i=k,i),G(nt,a="geos5",a)),e.$$.dirty&24&&n==="pm10"&&(s(3,k=[{value:"geos",name:"GEOS-ML 25x25km"}]),G(jt,i=k,i),G(nt,a="geos",a)),e.$$.dirty&17&&a!==""&&G(Nt,r=I[n][a],r)},[a,i,m,k,n,w]}class Na extends Ve{constructor(t){super(),He(this,t,ja,Ga,$e,{hiddenDrawer:2})}}function Wa(e){let t,s,a,n='<p class="text blue-600 text-sm mb-0">Ground Stations</p> <p class="cursor-pointer icon ms-15 mb-0"><img class="d-block" style="height: 15px;" src="assets/img/icon/head-information.svg" alt=""/></p>',r,o,i,m,k='<p class="icon mb-0"><img class="d-block w-100" src="assets/img/icon/icon-ugm-3.svg" alt=""/></p>',I,w,h,D,b="Pollution Control Department",_,g="Aeronet",d,x="Embassy",p,T;return{c(){t=u("div"),s=u("div"),a=u("div"),a.innerHTML=n,r=L(),o=u("div"),i=u("div"),m=u("div"),m.innerHTML=k,I=L(),w=u("div"),h=u("select"),D=u("option"),D.textContent=b,_=u("option"),_.textContent=g,d=u("option"),d.textContent=x,this.h()},l(q){t=f(q,"DIV",{class:!0});var H=y(t);s=f(H,"DIV",{class:!0});var F=y(s);a=f(F,"DIV",{class:!0,"data-svelte-h":!0}),j(a)!=="svelte-17pg3bs"&&(a.innerHTML=n),r=V(F),o=f(F,"DIV",{class:!0});var E=y(o);i=f(E,"DIV",{class:!0});var P=y(i);m=f(P,"DIV",{class:!0,"data-svelte-h":!0}),j(m)!=="svelte-glq2g4"&&(m.innerHTML=k),I=V(P),w=f(P,"DIV",{class:!0});var B=y(w);h=f(B,"SELECT",{id:!0,class:!0});var N=y(h);D=f(N,"OPTION",{"data-svelte-h":!0}),j(D)!=="svelte-19fdb44"&&(D.textContent=b),_=f(N,"OPTION",{"data-svelte-h":!0}),j(_)!=="svelte-usgr3e"&&(_.textContent=g),d=f(N,"OPTION",{"data-svelte-h":!0}),j(d)!=="svelte-tzjcwq"&&(d.textContent=x),N.forEach(v),B.forEach(v),P.forEach(v),E.forEach(v),F.forEach(v),H.forEach(v),this.h()},h(){c(a,"class","head border-bottom border-green d-flex align-items-center justify-content-between mb-1 pb-05 w-100"),c(m,"class","col-2"),D.__value="pcd",it(D,D.__value),_.__value="aeronet",it(_,_.__value),d.__value="embassy",it(d,d.__value),c(h,"id","select2-station"),c(h,"class","nice-select wide selectize"),e[0]===void 0&&Kt(()=>e[1].call(h)),c(w,"class","col"),c(i,"class","row no-gutters align-items-center"),c(o,"class","box__description"),c(s,"class","info bg-white mb-2 p-15 rounded"),c(t,"class","item")},m(q,H){se(q,t,H),l(t,s),l(s,a),l(s,r),l(s,o),l(o,i),l(i,m),l(i,I),l(i,w),l(w,h),l(h,D),l(h,_),l(h,d),Qe(h,e[0],!0),p||(T=le(h,"change",e[1]),p=!0)},p(q,[H]){H&1&&Qe(h,q[0])},i:ve,o:ve,d(q){q&&v(t),p=!1,T()}}}function Za(e,t,s){let a,n,r;z(e,os,i=>s(2,a=i)),z(e,ns,i=>s(0,n=i)),z(e,ot,i=>s(3,r=i)),G(ns,n="pcd",n),G(ot,r=!0,r),setTimeout(()=>{NiceSelect.bind(document.querySelector("#select2-station"))},100);function o(){n=Qt(this),ns.set(n)}return e.$$.update=()=>{e.$$.dirty&1&&n==="pcd"&&G(os,a=!0,a)},[n,o]}class Ua extends Ve{constructor(t){super(),He(this,t,Za,Wa,$e,{})}}function Rs(e,t,s){const a=e.slice();return a[3]=t[s],a}function Gs(e){let t,s=e[3].name+"",a;return{c(){t=u("option"),a=Te(s),this.h()},l(n){t=f(n,"OPTION",{});var r=y(t);a=Le(r,s),r.forEach(v),this.h()},h(){t.__value=e[3].value,it(t,t.__value)},m(n,r){se(n,t,r),l(t,a)},p:ve,d(n){n&&v(t)}}}function Ka(e){let t,s,a,n='<p class="text blue-600 text-sm mb-0">Fire Product</p> <p class="cursor-pointer icon ms-15 mb-0"><img class="d-block" style="height: 15px;" src="assets/img/icon/head-information.svg" alt=""/></p>',r,o,i,m,k='<p class="icon mb-0"><img class="d-block w-100" src="assets/img/icon/icon-ugm-1.svg" alt=""/></p>',I,w,h,D,b,_=It(e[1]),g=[];for(let d=0;d<_.length;d+=1)g[d]=Gs(Rs(e,_,d));return{c(){t=u("div"),s=u("div"),a=u("div"),a.innerHTML=n,r=L(),o=u("div"),i=u("div"),m=u("div"),m.innerHTML=k,I=L(),w=u("div"),h=u("select");for(let d=0;d<g.length;d+=1)g[d].c();this.h()},l(d){t=f(d,"DIV",{class:!0});var x=y(t);s=f(x,"DIV",{class:!0});var p=y(s);a=f(p,"DIV",{class:!0,"data-svelte-h":!0}),j(a)!=="svelte-zptitx"&&(a.innerHTML=n),r=V(p),o=f(p,"DIV",{class:!0});var T=y(o);i=f(T,"DIV",{class:!0});var q=y(i);m=f(q,"DIV",{class:!0,"data-svelte-h":!0}),j(m)!=="svelte-1lzl765"&&(m.innerHTML=k),I=V(q),w=f(q,"DIV",{class:!0});var H=y(w);h=f(H,"SELECT",{id:!0,class:!0});var F=y(h);for(let E=0;E<g.length;E+=1)g[E].l(F);F.forEach(v),H.forEach(v),q.forEach(v),T.forEach(v),p.forEach(v),x.forEach(v),this.h()},h(){c(a,"class","head border-bottom border-green d-flex align-items-center justify-content-between mb-1 pb-05 w-100"),c(m,"class","col-2"),c(h,"id","select2-fire"),c(h,"class","nice-select wide selectize"),e[0]===void 0&&Kt(()=>e[2].call(h)),c(w,"class","col"),c(i,"class","row no-gutters align-items-center"),c(o,"class","box__description"),c(s,"class","info bg-white mb-2 p-15 rounded"),c(t,"class","item")},m(d,x){se(d,t,x),l(t,s),l(s,a),l(s,r),l(s,o),l(o,i),l(i,m),l(i,I),l(i,w),l(w,h);for(let p=0;p<g.length;p+=1)g[p]&&g[p].m(h,null);Qe(h,e[0],!0),D||(b=le(h,"change",e[2]),D=!0)},p(d,[x]){if(x&2){_=It(d[1]);let p;for(p=0;p<_.length;p+=1){const T=Rs(d,_,p);g[p]?g[p].p(T,x):(g[p]=Gs(T),g[p].c(),g[p].m(h,null))}for(;p<g.length;p+=1)g[p].d(1);g.length=_.length}x&3&&Qe(h,d[0])},i:ve,o:ve,d(d){d&&v(t),ms(g,d),D=!1,b()}}}function Qa(e,t,s){let a;z(e,zt,o=>s(0,a=o));let n=[{value:"vfei",name:"VIIRS-based Fire Emission Inventory (VFEI)"},{value:"fires_viirs_24",name:"VIIRS active fire last 24 hours"},{value:"fires_viirs_48",name:"VIIRS active fire last 48 hours"},{value:"fires_viirs_time",name:"VIIRS active fire for a single day"}];setTimeout(()=>{NiceSelect.bind(document.querySelector("#select2-fire"))},100);function r(){a=Qt(this),zt.set(a),s(1,n)}return[a,n,r]}class Ja extends Ve{constructor(t){super(),He(this,t,Qa,Ka,$e,{})}}function Xa(e){let t,s,a='<img class="d-block" src="assets/img/icon/close.svg" alt=""/>',n,r,o='<p class="icon me-15 mb-0"><img style="height: 25px;" src="assets/img/icon/base-map.svg" alt=""/></p> <p class="text blue-600 text-2lg font-bold mb-0">Base Map</p>',i,m,k,I,w,h,D,b,_,g,d,x,p='<p class="text-sm mb-0">Light</p> <p class="text-xs">Displays a map in light theme</p>',T,q,H,F,E,P,B,N,K,X='<p class="text-sm mb-0">Dark</p> <p class="text-xs">Displays a map in dark theme</p>',me,he,S,re,ee,A,C,$,M,W='<p class="text-sm mb-0">Classic</p> <p class="text-xs">Displays the default road map view</p>',U,O,ne,pe,te,ae,ze,De,ge,we='<p class="text-sm mb-0">Wind</p> <p class="text-xs">wind forecast data (6 hourly from NOAA)</p>',R,Q;return{c(){t=u("div"),s=u("a"),s.innerHTML=a,n=L(),r=u("div"),r.innerHTML=o,i=L(),m=u("div"),k=u("div"),I=u("div"),w=u("a"),h=u("div"),D=u("div"),b=u("p"),_=u("img"),d=L(),x=u("div"),x.innerHTML=p,T=L(),q=u("a"),H=u("div"),F=u("div"),E=u("p"),P=u("img"),N=L(),K=u("div"),K.innerHTML=X,me=L(),he=u("a"),S=u("div"),re=u("div"),ee=u("p"),A=u("img"),$=L(),M=u("div"),M.innerHTML=W,U=L(),O=u("a"),ne=u("div"),pe=u("div"),te=u("p"),ae=u("img"),De=L(),ge=u("div"),ge.innerHTML=we,this.h()},l(ye){t=f(ye,"DIV",{id:!0,class:!0});var ie=y(t);s=f(ie,"A",{class:!0,"data-svelte-h":!0}),j(s)!=="svelte-1fsuvn8"&&(s.innerHTML=a),n=V(ie),r=f(ie,"DIV",{class:!0,"data-svelte-h":!0}),j(r)!=="svelte-m2t4hp"&&(r.innerHTML=o),i=V(ie),m=f(ie,"DIV",{class:!0});var _e=y(m);k=f(_e,"DIV",{class:!0});var be=y(k);I=f(be,"DIV",{class:!0});var xe=y(I);w=f(xe,"A",{class:!0});var Ce=y(w);h=f(Ce,"DIV",{class:!0});var Je=y(h);D=f(Je,"DIV",{class:!0});var ct=y(D);b=f(ct,"P",{class:!0});var qe=y(b);_=f(qe,"IMG",{class:!0,src:!0,alt:!0}),qe.forEach(v),ct.forEach(v),d=V(Je),x=f(Je,"DIV",{class:!0,"data-svelte-h":!0}),j(x)!=="svelte-th25ga"&&(x.innerHTML=p),Je.forEach(v),Ce.forEach(v),T=V(xe),q=f(xe,"A",{class:!0});var Et=y(q);H=f(Et,"DIV",{class:!0});var We=y(H);F=f(We,"DIV",{class:!0});var Fe=y(F);E=f(Fe,"P",{class:!0});var Ie=y(E);P=f(Ie,"IMG",{class:!0,src:!0,alt:!0}),Ie.forEach(v),Fe.forEach(v),N=V(We),K=f(We,"DIV",{class:!0,"data-svelte-h":!0}),j(K)!=="svelte-174u9f6"&&(K.innerHTML=X),We.forEach(v),Et.forEach(v),me=V(xe),he=f(xe,"A",{class:!0});var Be=y(he);S=f(Be,"DIV",{class:!0});var Xe=y(S);re=f(Xe,"DIV",{class:!0});var dt=y(re);ee=f(dt,"P",{class:!0});var Pe=y(ee);A=f(Pe,"IMG",{class:!0,src:!0,alt:!0}),Pe.forEach(v),dt.forEach(v),$=V(Xe),M=f(Xe,"DIV",{class:!0,"data-svelte-h":!0}),j(M)!=="svelte-11gc5uy"&&(M.innerHTML=W),Xe.forEach(v),Be.forEach(v),U=V(xe),O=f(xe,"A",{class:!0});var Oe=y(O);ne=f(Oe,"DIV",{class:!0});var Me=y(ne);pe=f(Me,"DIV",{class:!0});var ut=y(pe);te=f(ut,"P",{class:!0});var Re=y(te);ae=f(Re,"IMG",{class:!0,src:!0,alt:!0}),Re.forEach(v),ut.forEach(v),De=V(Me),ge=f(Me,"DIV",{class:!0,"data-svelte-h":!0}),j(ge)!=="svelte-e8401g"&&(ge.innerHTML=we),Me.forEach(v),Oe.forEach(v),xe.forEach(v),be.forEach(v),_e.forEach(v),ie.forEach(v),this.h()},h(){c(s,"class","btn-close border-0 d-flex align-items-center justify-content-center"),c(r,"class","head border-bottom border-green d-flex align-items-center mb-1 pb-1 w-100"),c(_,"class","d-block w-100"),Gt(_.src,g=el)||c(_,"src",g),c(_,"alt",""),c(b,"class","pic mb-0 me-1"),c(D,"class","col-auto"),c(x,"class","col"),c(h,"class","row no-gutters align-items-center"),c(w,"class","d-block item mb-1 p-1"),c(P,"class","d-block w-100"),Gt(P.src,B=tl)||c(P,"src",B),c(P,"alt",""),c(E,"class","pic mb-0 me-1"),c(F,"class","col-auto"),c(K,"class","col"),c(H,"class","row no-gutters align-items-center"),c(q,"class","d-block item mb-1 p-1"),c(A,"class","d-block w-100"),Gt(A.src,C=Ya)||c(A,"src",C),c(A,"alt",""),c(ee,"class","pic mb-0 me-1"),c(re,"class","col-auto"),c(M,"class","col"),c(S,"class","row no-gutters align-items-center"),c(he,"class","d-block item mb-1 p-1"),c(ae,"class","d-block w-100"),Gt(ae.src,ze=sl)||c(ae,"src",ze),c(ae,"alt",""),c(te,"class","pic mb-0 me-1"),c(pe,"class","col-auto"),c(ge,"class","col"),c(ne,"class","row no-gutters align-items-center"),c(O,"class","d-block item mb-1 p-1 active"),c(I,"class","list__info"),c(k,"class","box__overflow pe-1"),c(m,"class","box__description"),c(t,"id","mapsettingPanel"),c(t,"class","box__info-base-map p-2 rounded")},m(ye,ie){se(ye,t,ie),l(t,s),l(t,n),l(t,r),l(t,i),l(t,m),l(m,k),l(k,I),l(I,w),l(w,h),l(h,D),l(D,b),l(b,_),l(h,d),l(h,x),l(I,T),l(I,q),l(q,H),l(H,F),l(F,E),l(E,P),l(H,N),l(H,K),l(I,me),l(I,he),l(he,S),l(S,re),l(re,ee),l(ee,A),l(S,$),l(S,M),l(I,U),l(I,O),l(O,ne),l(ne,pe),l(pe,te),l(te,ae),l(ne,De),l(ne,ge),R||(Q=[le(s,"click",e[2]),le(w,"click",e[3]),le(q,"click",e[4]),le(he,"click",e[5]),le(O,"click",al)],R=!0)},p:ve,i:ve,o:ve,d(ye){ye&&v(t),R=!1,Mt(Q)}}}const Ya="/assets/img/classic-basemap.png",el="/assets/img/light-basemap.png",tl="/assets/img/dark-basemap.png",sl="/assets/img/wind-basemap.png";function al(){console.log("toggle wind");const e=document.querySelector(".wind-map-container");e.style.display=e.style.display==="none"?"block":"none"}function ll(e,t,s){let a,n;return z(e,St,k=>s(0,a=k)),z(e,Vt,k=>s(1,n=k)),[a,n,()=>G(St,a=!1,a),()=>G(Vt,n="cltinohfj002101pc7cut13aj",n),()=>G(Vt,n="cltiptdlg004y01ph1rm84xru",n),()=>G(Vt,n="ckb2mbm240t2s1itc1dtmk5pf",n)]}class nl extends Ve{constructor(t){super(),He(this,t,ll,Xa,$e,{})}}function rl(e){let t,s,a="Mekong PM2.5 Ranking",n,r,o,i,m,k,I,w,h,D,b,_,g='<div class="d-flex justify-content-start"><div class="p-2 width10  svelte-27zeta">#</div> <div class="p-2 width70 svelte-27zeta">Major city</div> <div class="p-2 width20 svelte-27zeta"></div></div>',d,x,p,T,q="1",H,F,E,P,B,N,K="Thailand, Bangkok",X,me,he='<span class="badge rounded-pill bg-success svelte-27zeta">234</span>',S,re,ee,A,C="1",$,M,W,U,O,ne,pe="Thailand, Bangkok",te,ae,ze='<span class="badge rounded-pill bg-success svelte-27zeta">12</span>',De,ge,we,R,Q="1",ye,ie,_e,be,xe,Ce,Je="Laos, Bangkok",ct,qe,Et='<span class="badge rounded-pill bg-success svelte-27zeta">32</span>',We,Fe,Ie,Be,Xe="1",dt,Pe,Oe,Me,ut,Re,hs="Thailand, Bangkok",Xt,Ye,gs='<span class="badge rounded-pill bg-success svelte-27zeta">234</span>',Yt,et,Ae,tt,vs="1",es,Ze,ft,st,ts,pt,_s="Thailand, Bangkok",ss,at,bs='<span class="badge rounded-pill bg-success svelte-27zeta">64</span>',mt,as,ws;return r=new Xs({props:{class:"mb-4 dark:text-white"}}),r.$on("click",e[5]),P=new ma({props:{size:"20"}}),U=new ha({props:{size:"20"}}),be=new ga({props:{size:"20"}}),Me=new va({props:{size:"20"}}),st=new _a({props:{size:"20"}}),{c(){t=u("div"),s=u("h5"),s.textContent=a,n=L(),ce(r.$$.fragment),o=L(),i=u("p"),m=Te(e[1]),k=Te(":00:00"),I=L(),w=u("p"),h=Te(e[2]),D=L(),b=u("ul"),_=u("li"),_.innerHTML=g,d=L(),x=u("li"),p=u("div"),T=u("div"),T.textContent=q,H=L(),F=u("div"),E=u("div"),ce(P.$$.fragment),B=L(),N=u("div"),N.textContent=K,X=L(),me=u("div"),me.innerHTML=he,S=L(),re=u("li"),ee=u("div"),A=u("div"),A.textContent=C,$=L(),M=u("div"),W=u("div"),ce(U.$$.fragment),O=L(),ne=u("div"),ne.textContent=pe,te=L(),ae=u("div"),ae.innerHTML=ze,De=L(),ge=u("li"),we=u("div"),R=u("div"),R.textContent=Q,ye=L(),ie=u("div"),_e=u("div"),ce(be.$$.fragment),xe=L(),Ce=u("div"),Ce.textContent=Je,ct=L(),qe=u("div"),qe.innerHTML=Et,We=L(),Fe=u("li"),Ie=u("div"),Be=u("div"),Be.textContent=Xe,dt=L(),Pe=u("div"),Oe=u("div"),ce(Me.$$.fragment),ut=L(),Re=u("div"),Re.textContent=hs,Xt=L(),Ye=u("div"),Ye.innerHTML=gs,Yt=L(),et=u("li"),Ae=u("div"),tt=u("div"),tt.textContent=vs,es=L(),Ze=u("div"),ft=u("div"),ce(st.$$.fragment),ts=L(),pt=u("div"),pt.textContent=_s,ss=L(),at=u("div"),at.innerHTML=bs,this.h()},l(Y){t=f(Y,"DIV",{class:!0});var ke=y(t);s=f(ke,"H5",{id:!0,class:!0,"data-svelte-h":!0}),j(s)!=="svelte-1huxu54"&&(s.textContent=a),n=V(ke),de(r.$$.fragment,ke),ke.forEach(v),o=V(Y),i=f(Y,"P",{class:!0});var ls=y(i);m=Le(ls,e[1]),k=Le(ls,":00:00"),ls.forEach(v),I=V(Y),w=f(Y,"P",{class:!0});var ys=y(w);h=Le(ys,e[2]),ys.forEach(v),D=V(Y),b=f(Y,"UL",{class:!0});var Ee=y(b);_=f(Ee,"LI",{class:!0,"data-svelte-h":!0}),j(_)!=="svelte-1okprzs"&&(_.innerHTML=g),d=V(Ee),x=f(Ee,"LI",{class:!0});var xs=y(x);p=f(xs,"DIV",{class:!0});var ht=y(p);T=f(ht,"DIV",{class:!0,"data-svelte-h":!0}),j(T)!=="svelte-1h197q2"&&(T.textContent=q),H=V(ht),F=f(ht,"DIV",{class:!0});var Ft=y(F);E=f(Ft,"DIV",{class:!0});var ks=y(E);de(P.$$.fragment,ks),ks.forEach(v),B=V(Ft),N=f(Ft,"DIV",{"data-svelte-h":!0}),j(N)!=="svelte-4ix3sq"&&(N.textContent=K),Ft.forEach(v),X=V(ht),me=f(ht,"DIV",{class:!0,"data-svelte-h":!0}),j(me)!=="svelte-qxblu2"&&(me.innerHTML=he),ht.forEach(v),xs.forEach(v),S=V(Ee),re=f(Ee,"LI",{class:!0});var Ds=y(re);ee=f(Ds,"DIV",{class:!0});var gt=y(ee);A=f(gt,"DIV",{class:!0,"data-svelte-h":!0}),j(A)!=="svelte-1h197q2"&&(A.textContent=C),$=V(gt),M=f(gt,"DIV",{class:!0});var Bt=y(M);W=f(Bt,"DIV",{class:!0});var Is=y(W);de(U.$$.fragment,Is),Is.forEach(v),O=V(Bt),ne=f(Bt,"DIV",{"data-svelte-h":!0}),j(ne)!=="svelte-4ix3sq"&&(ne.textContent=pe),Bt.forEach(v),te=V(gt),ae=f(gt,"DIV",{class:!0,"data-svelte-h":!0}),j(ae)!=="svelte-qmwp9q"&&(ae.innerHTML=ze),gt.forEach(v),Ds.forEach(v),De=V(Ee),ge=f(Ee,"LI",{class:!0});var Ss=y(ge);we=f(Ss,"DIV",{class:!0});var vt=y(we);R=f(vt,"DIV",{class:!0,"data-svelte-h":!0}),j(R)!=="svelte-1h197q2"&&(R.textContent=Q),ye=V(vt),ie=f(vt,"DIV",{class:!0});var At=y(ie);_e=f(At,"DIV",{class:!0});var Cs=y(_e);de(be.$$.fragment,Cs),Cs.forEach(v),xe=V(At),Ce=f(At,"DIV",{"data-svelte-h":!0}),j(Ce)!=="svelte-1rtzshw"&&(Ce.textContent=Je),At.forEach(v),ct=V(vt),qe=f(vt,"DIV",{class:!0,"data-svelte-h":!0}),j(qe)!=="svelte-cg7ylw"&&(qe.innerHTML=Et),vt.forEach(v),Ss.forEach(v),We=V(Ee),Fe=f(Ee,"LI",{class:!0});var Ms=y(Fe);Ie=f(Ms,"DIV",{class:!0});var _t=y(Ie);Be=f(_t,"DIV",{class:!0,"data-svelte-h":!0}),j(Be)!=="svelte-1h197q2"&&(Be.textContent=Xe),dt=V(_t),Pe=f(_t,"DIV",{class:!0});var Ot=y(Pe);Oe=f(Ot,"DIV",{class:!0});var Es=y(Oe);de(Me.$$.fragment,Es),Es.forEach(v),ut=V(Ot),Re=f(Ot,"DIV",{"data-svelte-h":!0}),j(Re)!=="svelte-4ix3sq"&&(Re.textContent=hs),Ot.forEach(v),Xt=V(_t),Ye=f(_t,"DIV",{class:!0,"data-svelte-h":!0}),j(Ye)!=="svelte-qxblu2"&&(Ye.innerHTML=gs),_t.forEach(v),Ms.forEach(v),Yt=V(Ee),et=f(Ee,"LI",{class:!0});var Ts=y(et);Ae=f(Ts,"DIV",{class:!0});var bt=y(Ae);tt=f(bt,"DIV",{class:!0,"data-svelte-h":!0}),j(tt)!=="svelte-1h197q2"&&(tt.textContent=vs),es=V(bt),Ze=f(bt,"DIV",{class:!0});var Rt=y(Ze);ft=f(Rt,"DIV",{class:!0});var Ls=y(ft);de(st.$$.fragment,Ls),Ls.forEach(v),ts=V(Rt),pt=f(Rt,"DIV",{"data-svelte-h":!0}),j(pt)!=="svelte-4ix3sq"&&(pt.textContent=_s),Rt.forEach(v),ss=V(bt),at=f(bt,"DIV",{class:!0,"data-svelte-h":!0}),j(at)!=="svelte-1ggzt1v"&&(at.innerHTML=bs),bt.forEach(v),Ts.forEach(v),Ee.forEach(v),this.h()},h(){c(s,"id","drawer-label"),c(s,"class","inline-flex items-center mb-4 text-base font-semibold text-gray-800 dark:text-gray-400"),c(t,"class","flex items-center"),c(i,"class","text-sm text-gray-500 dark:text-gray-400 float-right"),c(w,"class","text-sm text-gray-500 dark:text-gray-400 mb-2"),c(_,"class","list-group-item"),c(T,"class","p-2 width10 svelte-27zeta"),c(E,"class","mr-1"),c(F,"class","p-2 width70 flex svelte-27zeta"),c(me,"class","p-2 width20 svelte-27zeta"),c(p,"class","d-flex justify-content-start"),c(x,"class","list-group-item text-xs"),c(A,"class","p-2 width10 svelte-27zeta"),c(W,"class","mr-1"),c(M,"class","p-2 width70 flex svelte-27zeta"),c(ae,"class","p-2 width20 svelte-27zeta"),c(ee,"class","d-flex justify-content-start"),c(re,"class","list-group-item text-xs"),c(R,"class","p-2 width10 svelte-27zeta"),c(_e,"class","mr-1"),c(ie,"class","p-2 flex width70 svelte-27zeta"),c(qe,"class","p-2 width20 svelte-27zeta"),c(we,"class","d-flex justify-content-start"),c(ge,"class","list-group-item text-xs"),c(Be,"class","p-2 width10 svelte-27zeta"),c(Oe,"class","mr-1"),c(Pe,"class","p-2 width70 flex svelte-27zeta"),c(Ye,"class","p-2 width20 svelte-27zeta"),c(Ie,"class","d-flex justify-content-start"),c(Fe,"class","list-group-item text-xs"),c(tt,"class","p-2 width10 svelte-27zeta"),c(ft,"class","mr-1"),c(Ze,"class","p-2 width70 flex svelte-27zeta"),c(at,"class","p-2 width20 svelte-27zeta"),c(Ae,"class","d-flex justify-content-start"),c(et,"class","list-group-item text-xs"),c(b,"class","list-group text-sm")},m(Y,ke){se(Y,t,ke),l(t,s),l(t,n),ue(r,t,null),se(Y,o,ke),se(Y,i,ke),l(i,m),l(i,k),se(Y,I,ke),se(Y,w,ke),l(w,h),se(Y,D,ke),se(Y,b,ke),l(b,_),l(b,d),l(b,x),l(x,p),l(p,T),l(p,H),l(p,F),l(F,E),ue(P,E,null),l(F,B),l(F,N),l(p,X),l(p,me),l(b,S),l(b,re),l(re,ee),l(ee,A),l(ee,$),l(ee,M),l(M,W),ue(U,W,null),l(M,O),l(M,ne),l(ee,te),l(ee,ae),l(b,De),l(b,ge),l(ge,we),l(we,R),l(we,ye),l(we,ie),l(ie,_e),ue(be,_e,null),l(ie,xe),l(ie,Ce),l(we,ct),l(we,qe),l(b,We),l(b,Fe),l(Fe,Ie),l(Ie,Be),l(Ie,dt),l(Ie,Pe),l(Pe,Oe),ue(Me,Oe,null),l(Pe,ut),l(Pe,Re),l(Ie,Xt),l(Ie,Ye),l(b,Yt),l(b,et),l(et,Ae),l(Ae,tt),l(Ae,es),l(Ae,Ze),l(Ze,ft),ue(st,ft,null),l(Ze,ts),l(Ze,pt),l(Ae,ss),l(Ae,at),mt=!0,as||(ws=[le(x,"click",e[6]),le(re,"click",e[7]),le(ge,"click",e[8]),le(Fe,"click",e[9]),le(et,"click",e[10])],as=!0)},p(Y,ke){(!mt||ke&2)&&Dt(m,Y[1]),(!mt||ke&4)&&Dt(h,Y[2])},i(Y){mt||(Z(r.$$.fragment,Y),Z(P.$$.fragment,Y),Z(U.$$.fragment,Y),Z(be.$$.fragment,Y),Z(Me.$$.fragment,Y),Z(st.$$.fragment,Y),mt=!0)},o(Y){J(r.$$.fragment,Y),J(P.$$.fragment,Y),J(U.$$.fragment,Y),J(be.$$.fragment,Y),J(Me.$$.fragment,Y),J(st.$$.fragment,Y),mt=!1},d(Y){Y&&(v(t),v(o),v(i),v(I),v(w),v(D),v(b)),fe(r),fe(P),fe(U),fe(be),fe(Me),fe(st),as=!1,Mt(ws)}}}function il(e){let t,s,a;function n(o){e[11](o)}let r={activateClickOutside:ol,backdrop:cl,rightOffset:"top-14 h-screen end-0",placement:"right",transitionType:"fly",transitionParams:e[3],id:"sidebar6",$$slots:{default:[rl]},$$scope:{ctx:e}};return e[0]!==void 0&&(r.hidden=e[0]),t=new Js({props:r}),Se.push(()=>Ge(t,"hidden",n)),{c(){ce(t.$$.fragment)},l(o){de(t.$$.fragment,o)},m(o,i){ue(t,o,i),a=!0},p(o,[i]){const m={};i&65543&&(m.$$scope={dirty:i,ctx:o}),!s&&i&1&&(s=!0,m.hidden=o[0],je(()=>s=!1)),t.$set(m)},i(o){a||(Z(t.$$.fragment,o),a=!0)},o(o){J(t.$$.fragment,o),a=!1},d(o){fe(t,o)}}}let ol=!1,cl=!1;function dl(e,t,s){let a,n,r,o,i,m,k;z(e,qs,p=>s(12,a=p)),z(e,fs,p=>s(13,n=p)),z(e,us,p=>s(14,r=p)),z(e,Ke,p=>s(15,o=p)),z(e,Ne,p=>s(0,i=p)),z(e,xt,p=>s(1,m=p)),z(e,is,p=>s(2,k=p));let I={x:320,duration:200,easing:Ys};function w(p,T,q){G(Ke,o=!1,o),G(us,r=p,r),G(fs,n=T,n),G(qs,a=q,a)}const h=()=>G(Ne,i=!0,i),D=()=>w(11.2,100.2,"Thailand, Bangkok"),b=()=>w(11.2,100.2,"Thailand, Bangkok"),_=()=>w(11.2,100.2,"Thailand, Bangkok"),g=()=>w(11.2,100.2,"Thailand, Bangkok"),d=()=>w(11.2,100.2,"Thailand, Bangkok");function x(p){i=p,Ne.set(i)}return[i,m,k,I,w,h,D,b,_,g,d,x]}class ul extends Ve{constructor(t){super(),He(this,t,dl,il,$e,{})}}function js(e,t,s){const a=e.slice();return a[5]=t[s],a}function Ns(e){let t,s=e[5].name+"",a;return{c(){t=u("option"),a=Te(s),this.h()},l(n){t=f(n,"OPTION",{});var r=y(t);a=Le(r,s),r.forEach(v),this.h()},h(){t.__value=e[5].value,it(t,t.__value)},m(n,r){se(n,t,r),l(t,a)},p:ve,d(n){n&&v(t)}}}function fl(e){let t,s,a='<img class="d-block" src="assets/img/icon/close.svg" alt=""/>',n,r,o='<p class="icon me-15 mb-0"><img style="height: 25px;" src="assets/img/icon/head-air-quality.svg" alt=""/></p> <p class="text blue-600 text-2lg font-bold mb-0">Air Pollutant</p>',i,m,k,I="Select air pollutant",w,h,D,b,_=It(e[2]),g=[];for(let d=0;d<_.length;d+=1)g[d]=Ns(js(e,_,d));return{c(){t=u("div"),s=u("a"),s.innerHTML=a,n=L(),r=u("div"),r.innerHTML=o,i=L(),m=u("div"),k=u("p"),k.textContent=I,w=L(),h=u("select");for(let d=0;d<g.length;d+=1)g[d].c();this.h()},l(d){t=f(d,"DIV",{id:!0,class:!0});var x=y(t);s=f(x,"A",{class:!0,"data-svelte-h":!0}),j(s)!=="svelte-1w7gzh6"&&(s.innerHTML=a),n=V(x),r=f(x,"DIV",{class:!0,"data-svelte-h":!0}),j(r)!=="svelte-12jx70m"&&(r.innerHTML=o),i=V(x),m=f(x,"DIV",{class:!0});var p=y(m);k=f(p,"P",{class:!0,"data-svelte-h":!0}),j(k)!=="svelte-1cqawmn"&&(k.textContent=I),w=V(p),h=f(p,"SELECT",{class:!0,id:!0});var T=y(h);for(let q=0;q<g.length;q+=1)g[q].l(T);T.forEach(v),p.forEach(v),x.forEach(v),this.h()},h(){c(s,"class","btn-close border-0 d-flex align-items-center justify-content-center"),c(r,"class","head border-bottom border-green d-flex align-items-center mb-1 pb-1 w-100"),c(k,"class","blue-600"),c(h,"class","nice-select wide selectize"),c(h,"id","select-pollutant"),e[1]===void 0&&Kt(()=>e[4].call(h)),c(m,"class","box__description"),c(t,"id","select_air_pollutant"),c(t,"class","box__info-air-quality p-2 rounded")},m(d,x){se(d,t,x),l(t,s),l(t,n),l(t,r),l(t,i),l(t,m),l(m,k),l(m,w),l(m,h);for(let p=0;p<g.length;p+=1)g[p]&&g[p].m(h,null);Qe(h,e[1],!0),D||(b=[le(s,"click",e[3]),le(h,"change",e[4])],D=!0)},p(d,[x]){if(x&4){_=It(d[2]);let p;for(p=0;p<_.length;p+=1){const T=js(d,_,p);g[p]?g[p].p(T,x):(g[p]=Ns(T),g[p].c(),g[p].m(h,null))}for(;p<g.length;p+=1)g[p].d(1);g.length=_.length}x&6&&Qe(h,d[1])},i:ve,o:ve,d(d){d&&v(t),ms(g,d),D=!1,Mt(b)}}}function pl(e,t,s){let a,n;z(e,Ct,m=>s(0,a=m)),z(e,Pt,m=>s(1,n=m));let r=[{value:"pm25",name:"PM2.5"},{value:"no2",name:"Nitrogen dioxide (NO2)"}];setTimeout(()=>{NiceSelect.bind(document.querySelector("#select-pollutant"))},50);const o=()=>G(Ct,a=!1,a);function i(){n=Qt(this),Pt.set(n),s(2,r)}return[a,n,r,o,i]}class ml extends Ve{constructor(t){super(),He(this,t,pl,fl,$e,{})}}function ta(e,t,s,a){e.data.labels=t,e.data.datasets[0].data=s,e.update()}function sa(e){e.data.labels=[],e.data.datasets[0].data=[],e.update()}function hl(e){let t,s,a,n,r,o,i,m,k=`<div><p class="max-w-lg mb-6 text-sm text-gray-500 dark:text-gray-400">GEOS Air Quality Forecasts bias-corrected using machine learning algorithm</p></div> <div class="float-right"><div class="flex"><div class="mr-2"><span class="badge rounded-pill bg-success svelte-1925r2e">Min 234
						<p class="svelte-1925r2e">2024-01-01 01:00:00</p></span></div> <div class=""><span class="badge rounded-pill bg-warning svelte-1925r2e">Max 234
						<p class="svelte-1925r2e">2024-01-01 01:00:00</p></span></div></div></div>`,I,w,h,D;return a=new ba({props:{class:"w-4 h-4 me-2.5"}}),o=new Xs({props:{class:"mb-4 dark:text-white"}}),o.$on("click",e[5]),{c(){t=u("div"),s=u("h5"),ce(a.$$.fragment),n=Te("PM 2.5 forecast of Thailand, Bangkok"),r=L(),ce(o.$$.fragment),i=L(),m=u("div"),m.innerHTML=k,I=L(),w=u("div"),h=u("canvas"),this.h()},l(b){t=f(b,"DIV",{class:!0});var _=y(t);s=f(_,"H5",{id:!0,class:!0});var g=y(s);de(a.$$.fragment,g),n=Le(g,"PM 2.5 forecast of Thailand, Bangkok"),g.forEach(v),r=V(_),de(o.$$.fragment,_),_.forEach(v),i=V(b),m=f(b,"DIV",{class:!0,"data-svelte-h":!0}),j(m)!=="svelte-1eugj9f"&&(m.innerHTML=k),I=V(b),w=f(b,"DIV",{class:!0,style:!0});var d=y(w);h=f(d,"CANVAS",{id:!0}),y(h).forEach(v),d.forEach(v),this.h()},h(){c(s,"id","drawer-label"),c(s,"class","inline-flex items-center mb-4 text-base font-semibold text-gray-500 dark:text-gray-400"),c(t,"class","flex items-center"),c(m,"class","flex justify-between"),c(h,"id","myChart2"),c(w,"class","chart-container"),Ue(w,"position","relative"),Ue(w,"height","15vh"),Ue(w,"width","90vw")},m(b,_){se(b,t,_),l(t,s),ue(a,s,null),l(s,n),l(t,r),ue(o,t,null),se(b,i,_),se(b,m,_),se(b,I,_),se(b,w,_),l(w,h),e[6](h),D=!0},p:ve,i(b){D||(Z(a.$$.fragment,b),Z(o.$$.fragment,b),D=!0)},o(b){J(a.$$.fragment,b),J(o.$$.fragment,b),D=!1},d(b){b&&(v(t),v(i),v(m),v(I),v(w)),fe(a),fe(o),e[6](null)}}}function gl(e){let t,s,a;function n(o){e[7](o)}let r={activateClickOutside:vl,backdrop:_l,placement:"bottom",width:"w-full",transitionType:"fly",transitionParams:e[2],id:"sidebar8",class:"shadow-lg",$$slots:{default:[hl]},$$scope:{ctx:e}};return e[0]!==void 0&&(r.hidden=e[0]),t=new Js({props:r}),Se.push(()=>Ge(t,"hidden",n)),{c(){ce(t.$$.fragment)},l(o){de(t.$$.fragment,o)},m(o,i){ue(t,o,i),a=!0},p(o,[i]){const m={};i&4099&&(m.$$scope={dirty:i,ctx:o}),!s&&i&1&&(s=!0,m.hidden=o[0],je(()=>s=!1)),t.$set(m)},i(o){a||(Z(t.$$.fragment,o),a=!0)},o(o){J(t.$$.fragment,o),a=!1},d(o){fe(t,o)}}}let vl=!1,_l=!1;function bl(e,t,s){let a,n,r,o;z(e,us,_=>s(3,a=_)),z(e,fs,_=>s(4,n=_)),z(e,Ke,_=>s(0,r=_)),z(e,Jt,_=>s(10,o=_));let i,m,k,I={y:320,duration:200,easing:Ys};async function w(_,g){let d=rs+"/mapclient";const x=o.replace("-","").replace("-","");console.log(_);let p={action:"get-chartData",freq_chart:"3dayrecent",geom_data:_,interaction:g,run_date_chart:x+".nc",run_type_chart:"geos",variable:"BC_MLPM25"};const T=await Zt.get(d,{params:p,headers:{Authorization:"admin.KRg06uWinwXAL5SRRCBSmH2HON4tZKdpCItHpbZh7HghJFFH6mIizlNM01"}});if(T.data){let H=T.data.data.plot,F=H.map(P=>new Date(P[0]).toLocaleString("en-GB",{hour12:!1}));H.map(function(P){return P[1]<20?"#8b81ba":P[1]<40?"#6ca7cc":P[1]<60?"#91d2bd":P[1]<80?"#fbfbcf":P[1]<100?"#b44674":"#ddd"});let E=H.map(P=>P[1]);i=m.getContext("2d"),k=new ea(i,{type:"line",options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},filler:{propagate:!1}},scales:{x:{ticks:{font:{size:10},type:"time",autoSkip:!0,maxTicksLimit:3,autoSkipPadding:10},gridLines:{display:!1}},y:{ticks:{font:{size:10}},title:{display:!0,text:"PM 2.5",font:{size:10}}}}},data:{labels:[],datasets:[{label:"PM2.5",backgroundColor:"rgb(255, 165, 0, 0.2)",borderColor:"rgb(255, 165, 0, 0.2)",data:[],lineTension:.3,fill:{target:"origin",above:"rgba(255, 165, 0, 0.2)",below:"rgba(255, 165, 0, 0.2)"}}]}}),sa(k),ta(k,F,E)}}const h=()=>G(Ke,r=!0,r);function D(_){Se[_?"unshift":"push"](()=>{m=_,s(1,m)})}function b(_){r=_,Ke.set(r)}return e.$$.update=()=>{if(e.$$.dirty&25&&r===!1){let _=n.toString()+","+a.toString();w(_,"Point")}},[r,m,I,a,n,h,D,b]}class wl extends Ve{constructor(t){super(),He(this,t,bl,gl,$e,{})}}const Wt=oe(!1);Wt.subscribe,Wt.set,Wt.update;function Ws(e){let t,s;return t=new Na({}),{c(){ce(t.$$.fragment)},l(a){de(t.$$.fragment,a)},m(a,n){ue(t,a,n),s=!0},i(a){s||(Z(t.$$.fragment,a),s=!0)},o(a){J(t.$$.fragment,a),s=!1},d(a){fe(t,a)}}}function Zs(e){let t,s;return t=new Ua({}),{c(){ce(t.$$.fragment)},l(a){de(t.$$.fragment,a)},m(a,n){ue(t,a,n),s=!0},i(a){s||(Z(t.$$.fragment,a),s=!0)},o(a){J(t.$$.fragment,a),s=!1},d(a){fe(t,a)}}}function Us(e){let t,s;return t=new Ja({}),{c(){ce(t.$$.fragment)},l(a){de(t.$$.fragment,a)},m(a,n){ue(t,a,n),s=!0},i(a){s||(Z(t.$$.fragment,a),s=!0)},o(a){J(t.$$.fragment,a),s=!1},d(a){fe(t,a)}}}function Ks(e){let t,s;return t=new ml({}),{c(){ce(t.$$.fragment)},l(a){de(t.$$.fragment,a)},m(a,n){ue(t,a,n),s=!0},i(a){s||(Z(t.$$.fragment,a),s=!0)},o(a){J(t.$$.fragment,a),s=!1},d(a){fe(t,a)}}}function Qs(e){let t,s;return t=new nl({}),{c(){ce(t.$$.fragment)},l(a){de(t.$$.fragment,a)},m(a,n){ue(t,a,n),s=!0},i(a){s||(Z(t.$$.fragment,a),s=!0)},o(a){J(t.$$.fragment,a),s=!1},d(a){fe(t,a)}}}function yl(e){let t,s="Air quality monitoring";return{c(){t=u("h2"),t.textContent=s,this.h()},l(a){t=f(a,"H2",{class:!0,"data-svelte-h":!0}),j(t)!=="svelte-bf0pzk"&&(t.textContent=s),this.h()},h(){c(t,"class","font-meduim text-lg text-slate-700 mb-0")},m(a,n){se(a,t,n)},p:ve,d(a){a&&v(t)}}}function xl(e){let t,s,a,n,r,o;return{c(){t=u("p"),s=Te("Location: "),a=Te(e[1]),n=L(),r=u("div"),o=u("canvas"),this.h()},l(i){t=f(i,"P",{class:!0});var m=y(t);s=Le(m,"Location: "),a=Le(m,e[1]),m.forEach(v),n=V(i),r=f(i,"DIV",{class:!0,style:!0});var k=y(r);o=f(k,"CANVAS",{id:!0}),y(o).forEach(v),k.forEach(v),this.h()},h(){c(t,"class","mt-0 font-light text-xs text-slate-500"),c(o,"id","myChart"),c(r,"class","chart-container"),Ue(r,"position","relative"),Ue(r,"height","15vh"),Ue(r,"width","40vw")},m(i,m){se(i,t,m),l(t,s),l(t,a),se(i,n,m),se(i,r,m),l(r,o),e[19](o)},p(i,m){m&2&&Dt(a,i[1])},d(i){i&&(v(t),v(n),v(r)),e[19](null)}}}function kl(e){let t,s="Air quality monitoring";return{c(){t=u("h2"),t.textContent=s,this.h()},l(a){t=f(a,"H2",{slot:!0,class:!0,"data-svelte-h":!0}),j(t)!=="svelte-cd3bw0"&&(t.textContent=s),this.h()},h(){c(t,"slot","header"),c(t,"class","font-meduim text-lg text-slate-700 mb-0")},m(a,n){se(a,t,n)},p:ve,d(a){a&&v(t)}}}function Dl(e){let t,s,a,n,r,o,i,m,k,I,w,h,D,b='<img src="assets/img/icon/icon-plus.svg" alt=""/>',_,g,d='<img src="assets/img/icon/icon-minus.svg" alt=""/>',x,p,T,q,H,F,E,P,B,N,K,X,me,he,S,re,ee,A,C,$=e[8]&&Ws(),M=e[9]&&Zs(),W=e[10]&&Us();m=new Oa({});let U=e[6]&&Ks(),O=e[7]&&Qs();function ne(R){e[16](R)}let pe={};e[2]!==void 0&&(pe.map=e[2]),T=new La({props:pe}),Se.push(()=>Ge(T,"map",ne)),E=new $a({});function te(R){e[17](R)}let ae={};e[0]!==void 0&&(ae.hiddenDrawer=e[0]),B=new ul({props:ae}),Se.push(()=>Ge(B,"hiddenDrawer",te));function ze(R){e[18](R)}let De={$$slots:{default:[yl]},$$scope:{ctx:e}};e[5]!==void 0&&(De.hiddenDrawer=e[5]),X=new wl({props:De}),Se.push(()=>Ge(X,"hiddenDrawer",ze));function ge(R){e[20](R)}let we={$$slots:{header:[kl],default:[xl]},$$scope:{ctx:e}};return e[3]!==void 0&&(we.showModal=e[3]),S=new Fa({props:we}),Se.push(()=>Ge(S,"showModal",ge)),{c(){t=u("div"),s=u("div"),a=u("div"),$&&$.c(),n=L(),M&&M.c(),r=L(),W&&W.c(),o=L(),i=u("div"),ce(m.$$.fragment),k=L(),U&&U.c(),I=L(),O&&O.c(),w=L(),h=u("div"),D=u("a"),D.innerHTML=b,_=L(),g=u("a"),g.innerHTML=d,x=L(),p=u("div"),ce(T.$$.fragment),H=L(),F=u("div"),ce(E.$$.fragment),P=L(),ce(B.$$.fragment),K=L(),ce(X.$$.fragment),he=L(),ce(S.$$.fragment),this.h()},l(R){t=f(R,"DIV",{id:!0});var Q=y(t);s=f(Q,"DIV",{class:!0});var ye=y(s);a=f(ye,"DIV",{class:!0});var ie=y(a);$&&$.l(ie),n=V(ie),M&&M.l(ie),r=V(ie),W&&W.l(ie),ie.forEach(v),ye.forEach(v),o=V(Q),i=f(Q,"DIV",{id:!0,class:!0});var _e=y(i);de(m.$$.fragment,_e),k=V(_e),U&&U.l(_e),I=V(_e),O&&O.l(_e),_e.forEach(v),w=V(Q),h=f(Q,"DIV",{class:!0});var be=y(h);D=f(be,"A",{class:!0,"data-svelte-h":!0}),j(D)!=="svelte-1kv41tv"&&(D.innerHTML=b),_=V(be),g=f(be,"A",{class:!0,"data-svelte-h":!0}),j(g)!=="svelte-15v47jt"&&(g.innerHTML=d),be.forEach(v),x=V(Q),p=f(Q,"DIV",{class:!0});var xe=y(p);de(T.$$.fragment,xe),xe.forEach(v),H=V(Q),F=f(Q,"DIV",{class:!0});var Ce=y(F);de(E.$$.fragment,Ce),Ce.forEach(v),P=V(Q),de(B.$$.fragment,Q),K=V(Q),de(X.$$.fragment,Q),he=V(Q),de(S.$$.fragment,Q),Q.forEach(v),this.h()},h(){c(a,"class","slider"),c(s,"class","box__info-ugm"),c(i,"id","right-component"),c(i,"class","box__tool bg-white py-2 rounded"),c(D,"class","btn-plus d-flex align-items-center justify-content-center mb-1"),c(g,"class","btn-minus d-flex align-items-center justify-content-center"),c(h,"class","box__zoom-map"),c(p,"class","map overflow-hidden"),c(F,"class","absolute dateTime-position w-full flex justify-center items-stretch svelte-1mxola6"),c(t,"id","box__home")},m(R,Q){se(R,t,Q),l(t,s),l(s,a),$&&$.m(a,null),l(a,n),M&&M.m(a,null),l(a,r),W&&W.m(a,null),l(t,o),l(t,i),ue(m,i,null),l(i,k),U&&U.m(i,null),l(i,I),O&&O.m(i,null),l(t,w),l(t,h),l(h,D),l(h,_),l(h,g),l(t,x),l(t,p),ue(T,p,null),l(t,H),l(t,F),ue(E,F,null),l(t,P),ue(B,t,null),l(t,K),ue(X,t,null),l(t,he),ue(S,t,null),ee=!0,A||(C=[le(D,"click",e[11]),le(g,"click",e[12])],A=!0)},p(R,[Q]){R[8]?$?Q&256&&Z($,1):($=Ws(),$.c(),Z($,1),$.m(a,n)):$&&(Lt(),J($,1,1,()=>{$=null}),Tt()),R[9]?M?Q&512&&Z(M,1):(M=Zs(),M.c(),Z(M,1),M.m(a,r)):M&&(Lt(),J(M,1,1,()=>{M=null}),Tt()),R[10]?W?Q&1024&&Z(W,1):(W=Us(),W.c(),Z(W,1),W.m(a,null)):W&&(Lt(),J(W,1,1,()=>{W=null}),Tt()),R[6]?U?Q&64&&Z(U,1):(U=Ks(),U.c(),Z(U,1),U.m(i,I)):U&&(Lt(),J(U,1,1,()=>{U=null}),Tt()),R[7]?O?Q&128&&Z(O,1):(O=Qs(),O.c(),Z(O,1),O.m(i,null)):O&&(Lt(),J(O,1,1,()=>{O=null}),Tt());const ye={};!q&&Q&4&&(q=!0,ye.map=R[2],je(()=>q=!1)),T.$set(ye);const ie={};!N&&Q&1&&(N=!0,ie.hiddenDrawer=R[0],je(()=>N=!1)),B.$set(ie);const _e={};Q&536870912&&(_e.$$scope={dirty:Q,ctx:R}),!me&&Q&32&&(me=!0,_e.hiddenDrawer=R[5],je(()=>me=!1)),X.$set(_e);const be={};Q&536870930&&(be.$$scope={dirty:Q,ctx:R}),!re&&Q&8&&(re=!0,be.showModal=R[3],je(()=>re=!1)),S.$set(be)},i(R){ee||(Z($),Z(M),Z(W),Z(m.$$.fragment,R),Z(U),Z(O),Z(T.$$.fragment,R),Z(E.$$.fragment,R),Z(B.$$.fragment,R),Z(X.$$.fragment,R),Z(S.$$.fragment,R),ee=!0)},o(R){J($),J(M),J(W),J(m.$$.fragment,R),J(U),J(O),J(T.$$.fragment,R),J(E.$$.fragment,R),J(B.$$.fragment,R),J(X.$$.fragment,R),J(S.$$.fragment,R),ee=!1},d(R){R&&v(t),$&&$.d(),M&&M.d(),W&&W.d(),fe(m),U&&U.d(),O&&O.d(),fe(T),fe(E),fe(B),fe(X),fe(S),A=!1,Mt(C)}}}function Il(e,t,s){let a,n,r,o,i,m,k,I,w,h,D,b,_,g,d;z(e,Ne,S=>s(0,a=S)),z(e,ds,S=>s(13,n=S)),z(e,cs,S=>s(1,r=S)),z(e,Wt,S=>s(14,o=S)),z(e,os,S=>s(15,i=S)),z(e,kt,S=>s(23,m=S)),z(e,Ut,S=>s(24,k=S)),z(e,Jt,S=>s(25,I=S)),z(e,zt,S=>s(26,w=S)),z(e,Ke,S=>s(5,h=S)),z(e,Ct,S=>s(6,D=S)),z(e,St,S=>s(7,b=S)),z(e,qt,S=>s(8,_=S)),z(e,ot,S=>s(9,g=S)),z(e,$t,S=>s(10,d=S));let x,p=!1,T,q,H;G(qt,_=!0,_),G(St,b=!1,b),G(Ne,a=!1,a),G(Ct,D=!1,D),G(Ke,h=!0,h),G(zt,w="fires_viirs_24",w),setTimeout(()=>{T=q.getContext("2d"),H=new ea(T,{type:"bar",options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{x:{ticks:{font:{size:10},type:"time",autoSkip:!0,maxTicksLimit:3,autoSkipPadding:10},gridLines:{display:!1}},y:{ticks:{font:{size:10}},title:{display:!0,text:"PM 2.5",font:{size:10}}}}},data:{labels:[],datasets:[{label:"PM2.5",backgroundColor:"rgb(126, 58, 242)",borderColor:"rgb(126, 58, 242)",data:[],backgroundColor:[],lineTension:.3}]}})},200);async function F(S,re){let ee=rs+"/mapclient";const A=I.replace("-","").replace("-","");console.log(S);let C={action:"get-chartData",freq_chart:"3dayrecent",geom_data:S,interaction:re,run_date_chart:A+".nc",run_type_chart:"geos",variable:"BC_MLPM25"};const $=await Zt.get(ee,{params:C,headers:{Authorization:"admin.KRg06uWinwXAL5SRRCBSmH2HON4tZKdpCItHpbZh7HghJFFH6mIizlNM01"}});if($.data){let W=$.data.data.plot,U=W.map(te=>new Date(te[0]).toLocaleString("en-GB",{hour12:!1})),O=W.map(function(te){return te[1]<20?"#8b81ba":te[1]<40?"#6ca7cc":te[1]<60?"#91d2bd":te[1]<80?"#fbfbcf":te[1]<100?"#b44674":"#ddd"});console.log(O);let ne=W.map(te=>te[1]);sa(H),ta(H,U,ne);let pe=document.querySelector(".mapboxgl-popup-content");pe.innerHTML+='<div class="point-popup-val">'+ne[0]+' gm<sup>3</sup> <span id="open-statistic-button"  style="float: right; cursor: pointer;"><i class="fa fa-signal mr-2 text-sm from-purple-600 to-blue-500 to-blue-600 bg-gradient-to-r bg-clip-text text-transparent" aria-hidden="true"></i></span> </div>',document.getElementById("open-statistic-button").addEventListener("click",function(te){s(3,p=!0)})}console.log($.data)}async function E(){let S=rs+"/mapclient",re=k+"+"+m.replace("h","")+":00:00";console.log(re);let ee={action:"get-stations",obs_date:"2024-01-09+11:00:00"};const A=await Zt.get(S,{params:ee,paramsSerializer:$=>wa.stringify($,{encode:!1}),headers:{Authorization:"admin.KRg06uWinwXAL5SRRCBSmH2HON4tZKdpCItHpbZh7HghJFFH6mIizlNM01"}});let C=Ca(A.data.data);Sa(x,yt,C)}function P(){let S=x.getZoom();x.setZoom(S+1)}function B(){let S=x.getZoom();x.setZoom(S-1)}function N(S){x=S,s(2,x)}function K(S){a=S,Ne.set(a)}function X(S){h=S,Ke.set(h)}function me(S){Se[S?"unshift":"push"](()=>{q=S,s(4,q)})}function he(S){p=S,s(3,p),s(14,o)}return e.$$.update=()=>{e.$$.dirty&32768&&i&&E(),e.$$.dirty&16384&&o&&s(3,p=!0),e.$$.dirty&8194&&r!==""&&F(r,n),e.$$.dirty&1&&(a||(document.querySelectorAll("#right-component").forEach(S=>S.style.right="330px"),document.querySelectorAll("#timeslider").forEach(S=>S.style.justifyContent="right"))),e.$$.dirty&1&&a&&(document.querySelectorAll("#right-component").forEach(S=>S.style.right="30px"),document.querySelectorAll("#timeslider").forEach(S=>S.style.justifyContent="center"))},[a,r,x,p,q,h,D,b,_,g,d,P,B,n,o,i,N,K,X,me,he]}class Ml extends Ve{constructor(t){super(),He(this,t,Il,Dl,$e,{})}}export{Ml as component,Cl as universal};
