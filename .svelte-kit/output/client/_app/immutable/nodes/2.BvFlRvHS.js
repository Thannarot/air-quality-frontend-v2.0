import{K as re,S as $e,i as Ve,s as Pe,j as u,a as M,k as f,D as A,c as T,l as y,g as v,m as d,b as se,L as pe,M as H,N as ta,O as Nt,o as us,P as R,v as Ee,Q as sa,R as Oe,T as aa,U as la,V as na,p as Te,x as oe,q as Le,y as ce,n as Ze,F as l,z as de,r as wt,W as Ne,f as U,t as K,A as ue,C as Ts,G as ae,X as ra,Y as ia,H as Ls,I as $s,J as Vs,Z as Dt,$ as oa,a0 as ca,a1 as Ps,a2 as da,a3 as ua,a4 as yt,a5 as Ut,a6 as Ye,a7 as fs,a8 as nt,a9 as Zt,aa as jt,ab as Qs,ac as Ys,ad as fa,ae as pa,af as ma,ag as ha,ah as va,ai as Js,aj as ga,ak as Ks,d as Et,u as Ct}from"../chunks/vendor.CtTyJzvM.js";const _a=!1,ba=!0,wa=!1,Sl=Object.freeze(Object.defineProperty({__proto__:null,csr:ba,prerender:wa,ssr:_a},Symbol.toStringTag,{value:"Module"})),Gt="http://216.218.240.247:8080/thredds/wms/",ya="https://wind-data-servir.adpc.net/latest",Ot="https://firms.modaps.eosdis.nasa.gov/mapserver/wms/fires/37601af187a7c4054759a42043b19adc/",ka="pk.eyJ1Ijoic2VydmlybWVrb25nIiwiYSI6ImNrYWMzenhldDFvNG4yeXBtam1xMTVseGoifQ.Wr-FBcvcircZ0qyItQTq9g",xa={},rs=re(""),Mt=re(""),Qt=re(""),St=re(""),is=re(""),_t=re(""),Tt=re(""),os=re(!1),bt=re(""),Vt=re(""),Rt=re(""),as=re(""),Pt=re(""),rt=re(!1),Ht=re(!1),$t=re(!1),kt=re(!1),xt=re(!1),Da=re(""),Ia=re(""),Re=re(!1),Qe=re(!1),cs=re(""),ds=re(""),Hs=re(""),ls=re([{value:"BC_DNN_PM25",name:"PM2.5"}]);function lt(e,t){e.getLayer(t)&&e.removeLayer(t)}function Lt(e,t){e.getSource(t)&&e.removeSource(t)}function Ea(e,t,s){lt(e,"station-point"),lt(e,"marker-text"),Lt(e,"station-data"),e.addSource("station-data",{type:"geojson",data:s,cluster:!1}),e.addLayer({id:"station-point",type:"circle",source:"station-data",paint:{"circle-color":["get","color_class"],"circle-radius":10,"circle-stroke-width":1,"circle-stroke-color":"#fff"}}),e.addLayer({id:"marker-text",type:"symbol",source:"station-data",layout:{"text-field":["get","pm25"],"text-font":["DIN Offc Pro Medium","Arial Unicode MS Bold"],"text-size":12}}),e.setLayerZoomRange("station-point",2,22),e.setLayerZoomRange("marker-text",2,22),e.on("click","station-point",a=>{const n=a.features[0].geometry.coordinates.slice();for(console.log(a.features[0].properties.name);Math.abs(a.lngLat.lng-n[0])>180;)n[0]+=a.lngLat.lng>n[0]?360:-360;new t.Popup().setLngLat(n).setHTML('<div class="point-popup-val">'+a.features[0].properties.name+"</div>").addTo(e)}),e.on("mouseenter","clusters",()=>{e.getCanvas().style.cursor="pointer"}),e.on("mouseleave","clusters",()=>{e.getCanvas().style.cursor=""})}function Ca(e){for(var t={type:"FeatureCollection",features:[]},s=0;s<e.length;s++){var a=e[s].rid;let n=e[s].station_id,r=e[s].latest_data,c=e[s].lon,i=e[s].lat,p=e[s].pm25,x=e[s].name,D=e[s].aqi,_=e[s].aqi_level,g="#000000";p>80?g="#DE544D":p<=80&&p>60?g="#F2A63B":p<=60&&p>40?g="#FFFF54":p<=40&&p>20?g="#9FCE62":p<=20&&(g="#6ACAFA");let k={id:a,stationsID:n,latest_data:r,lon:c,lat:i,pm25:p,name:x,aqi:D,aqi_level:_,color_class:g};t.features.push({type:"Feature",properties:k,geometry:{type:"Point",coordinates:[c,i]}})}return t}function Sa(e){const t=e.getCanvas(),s=e.getBounds();return{width:t.width,height:t.height,north:s.getNorth(),south:s.getSouth(),west:s.getWest(),east:s.getEast(),zoomLevel:e.getZoom()}}function ns(e,t,s){const a=Sa(e),{zoomLevel:n,north:r,south:c,west:i,east:p,width:x,height:D}=a;mapcanvas.style.display="none",t&&t.stop(),s&&clearTimeout(s),s=setTimeout(function(){let _=3;n>2&&(_=4),n>3&&(_=4.5),n>4&&(_=4.7),n>5&&(_=4.8),n>6&&(_=5),mapcanvas.style.display="initial",mapcanvas.width=x,mapcanvas.height=D,t.start([[0,0],[x,D]],x,D,[[i,c],[p,r]],{particleLineWidth:_,zoomLevel:n})},500)}function Ma(e){let t,s='<canvas id="mapcanvas" class="relative w-full h-screen"></canvas>',a,n;return{c(){t=u("div"),t.innerHTML=s,a=M(),n=u("div"),this.h()},l(r){t=f(r,"DIV",{class:!0,"data-svelte-h":!0}),A(t)!=="svelte-1bm422c"&&(t.innerHTML=s),a=T(r),n=f(r,"DIV",{id:!0,class:!0}),y(n).forEach(v),this.h()},h(){d(t,"class","wind-map-container"),d(n,"id","map-container"),d(n,"class","relative w-full h-screen")},m(r,c){se(r,t,c),se(r,a,c),se(r,n,c),e[15](n)},p:pe,i:pe,o:pe,d(r){r&&(v(t),v(a),v(n)),e[15](null)}}}function Ta(){const e=Draw.getAll();var t=[];const s=e.features[e.features.length-1].id;e.features.forEach(a=>{a.id!==s&&t.push(a.id)}),Draw.delete(t)}function La(e,t,s){let a,n,r,c,i,p,x,D,_,g,k,b;H(e,bt,I=>s(4,a=I)),H(e,Vt,I=>s(5,n=I)),H(e,Ht,I=>s(6,r=I)),H(e,rt,I=>s(7,c=I)),H(e,$t,I=>s(8,i=I)),H(e,Pt,I=>s(9,p=I)),H(e,Tt,I=>s(10,x=I)),H(e,Mt,I=>s(11,D=I)),H(e,rs,I=>s(12,_=I)),H(e,Qt,I=>s(13,g=I)),H(e,Rt,I=>s(14,k=I)),H(e,St,I=>s(21,b=I));let{map:o}=t,h,w,E,m,S,V,L="";ta(xa,{getMap:()=>o,getMapBoxDraw:()=>Draw}),Nt.accessToken=ka,w=105.224518,E=11.113995,m=4;function q(){m=o.getZoom(),w=o.getCenter().lng,E=o.getCenter().lat}function P(I){s(3,L=I),setTimeout(()=>{lt(o,"fire-wms-layer"),Lt(o,"fire-wms-source");let C=Ot+"?REQUEST=GetMap&layers=fires_viirs_24&WIDTH=512&HEIGHT=512&bbox={bbox-epsg-3857}0&SRS=EPSG:3857";I==="fires_viirs_24"?C=Ot+`?REQUEST=GetMap&layers=${I}&WIDTH=512&HEIGHT=512&bbox={bbox-epsg-3857}0&SRS=EPSG:3857`:I==="fires_viirs_48"?C=Ot+`?REQUEST=GetMap&layers=${I}&WIDTH=512&HEIGHT=512&bbox={bbox-epsg-3857}0&SRS=EPSG:3857`:I==="fires_viirs_time"&&(C=Ot+`?REQUEST=GetMap&layers=fires_viirs&TIME=${_}&WIDTH=512&HEIGHT=512&bbox={bbox-epsg-3857}0&SRS=EPSG:3857`),o.addSource("fire-wms-source",{type:"raster",tiles:[C],tileSize:512}),o.addLayer({id:"fire-wms-layer",type:"raster",source:"fire-wms-source",paint:{}},"building"),o.setPaintProperty("fire-wms-layer","raster-opacity",.8)},200)}function N(I,C){setTimeout(()=>{lt(o,"wms-layer"),Lt(o,"wms-source");let W=g.substr(0,4)+"-"+g.substr(4,2)+"-"+g.substr(6,2),X=new Date(W),le=new Date(_),F="";if(I==="pm25"){if(X>le)F=_.replace("-","").replace("-","");else if(X<le){F=g;let z=moment(X).add(2,"days");le>z&&(alert("No available data for "+_),F="")}else F=_.replace("-","").replace("-","");F!==""&&R(St,b=`${Gt}/ServirData/${a}/${F}.nc?service=WMS
					&request=GetMap
					&layers=${k}
					&styles=default-scalar%2Fpm25
					&format=image/png
					&transparent=true
					&version=1.3.0
					&time=${_}T${D.replace("h","")}:30:00Z
					&colorscalerange=0%2C300
					&abovemaxcolor=extend
					&belowmincolor=extend
					&width=256
					&height=256
					&crs=EPSG:3857
					&bbox={bbox-epsg-3857}`,b)}I==="no2"&&(F="GEMS_NO2_20240228_0645_FC_SERVIRSEA",R(St,b=`${Gt}/ServirData/${a}/${F}.nc?service=WMS
				&request=GetMap
				&layers=${k}
				&styles=default-scalar%2Fno2
				&format=image%2Fpng
				&transparent=true
				&version=1.3.0
				&colorscalerange=0%2C5
				&abovemaxcolor=extend
				&belowmincolor=extend
				&width=256
				&height=256
				&crs=EPSG:3857
				&bbox={bbox-epsg-3857}`,b)),F!==""&&(o.addSource("wms-source",{type:"raster",tiles:[b],tileSize:256}),o.addLayer({id:"wms-layer",name:"wms-layer",type:"raster",source:"wms-source",paint:{"raster-fade-duration":0,"raster-opacity":.7}},"building"),o.getStyle().layers.map(j=>j.id).includes("fire-wms-layer")&&(console.log("fire layer active"),o.moveLayer("wms-layer","fire-wms-layer")))},200)}function $(I,C){setTimeout(()=>{let W=g.substr(0,4)+"-"+g.substr(4,2)+"-"+g.substr(6,2),X=new Date(W),le=new Date(_),F="";if(I==="pm25"){if(X>le)F=_.replace("-","").replace("-","");else if(X<le){F=g;let j=moment(X).add(2,"days");le>j&&(alert("No available data for "+_),F="")}else F=_.replace("-","").replace("-","");F!==""&&R(St,b=`${Gt}/ServirData/${a}/${F}.nc?service=WMS
					&request=GetMap
					&layers=${k}
					&styles=default-scalar%2Fpm25
					&format=image/png
					&transparent=true
					&version=1.3.0
					&time=${_}T${D.replace("h","")}:30:00Z
					&colorscalerange=0%2C300
					&abovemaxcolor=extend
					&belowmincolor=extend
					&width=256
					&height=256
					&crs=EPSG:3857
					&bbox={bbox-epsg-3857}`,b)}I==="no2"&&(F="GEMS_NO2_20240228_0645_FC_SERVIRSEA",R(St,b=`${Gt}/ServirData/${a}/${F}.nc?service=WMS
				&request=GetMap
				&layers=${k}
				&styles=default-scalar%2Fno2
				&format=image%2Fpng
				&transparent=true
				&version=1.3.0
				&colorscalerange=0%2C5
				&abovemaxcolor=extend
				&belowmincolor=extend
				&width=256
				&height=256
				&crs=EPSG:3857
				&bbox={bbox-epsg-3857}`,b)),o.getSource("wms-source").tiles=[b],o.style._sourceCaches["other:wms-source"].clearTiles(),o.style._sourceCaches["other:wms-source"].update(o.transform),o.getStyle().layers.map(j=>j.id).includes("fire-wms-layer")&&(console.log("fire layer active"),o.moveLayer("wms-layer","fire-wms-layer"))},50)}us(()=>{const I={lng:w,lat:E,zoom:m};s(1,o=new Nt.Map({container:h,style:"mapbox://styles/servirmekong/cltiptdlg004y01ph1rm84xru",zoom:I.zoom,center:[I.lng,I.lat],maxBounds:[[-180,-60],[180,70]]}));const C={showCompass:!1};o.addControl(new Nt.NavigationControl(C),"bottom-right"),o.on("draw.modechange",W=>{Ta()}),o.on("draw.update",function(W){}),o.on("draw.delete",function(W){console.log("delete")}),o.on("move",()=>{q(),ns(o,S,V)}),o.on("resize",W=>{ns(o,S,V)}),fetch(ya).then(W=>W.json()).then(W=>{console.log(W),S=new Windy({canvas:mapcanvas,data:W}),ns(o,S,V)})});function Z(){return o}function Y(I){Ee[I?"unshift":"push"](()=>{h=I,s(0,h)})}return e.$$set=I=>{"map"in I&&s(1,o=I.map)},e.$$.update=()=>{if(e.$$.dirty&8240&&g!==""&&N(n),e.$$.dirty&30770&&k&&g!==""&&_!==""&&D!==""&&o.getLayer("wms-layer")&&$(n),e.$$.dirty&1586&&x!==""){let C=o.getStyle().layers.map(W=>W.id);o.setStyle("mapbox://styles/servirmekong/"+x),setTimeout(()=>{C.includes("wms-layer")&&$(n),C.includes("fire-wms-layer")&&P(p)},50)}e.$$.dirty&258&&o&&i==!1&&o.getLayer("fire-wms-layer")&&(lt(o,"fire-wms-layer"),Lt(o,"fire-wms-source")),e.$$.dirty&770&&o&&i==!0&&!o.getLayer("fire-wms-layer")&&P(p),e.$$.dirty&778&&p!==L&&o&&i==!0&&P(p),e.$$.dirty&258&&o&&i==!0&&o.getLayer("fire-wms-layer")&&o.setPaintProperty("fire-wms-layer","raster-opacity",.9),e.$$.dirty&130&&o&&c==!1&&(lt(o,"station-point"),lt(o,"marker-text"),Lt(o,"station-data")),e.$$.dirty&66&&o&&r==!1&&o.setPaintProperty("wms-layer","raster-opacity",0),e.$$.dirty&114&&o&&r==!0&&o.getLayer("wms-layer")&&(console.log("ShowPollutant ture",n,a),o.setPaintProperty("wms-layer","raster-opacity",.7))},[h,o,Z,L,a,n,r,c,i,p,x,D,_,g,k,Y]}class $a extends $e{constructor(t){super(),Ve(this,t,La,Ma,Pe,{map:1,getMap:2})}get getMap(){return this.$$.ctx[2]}}function Va(e){let t,s,a,n,r,c,i,p,x,D,_,g,k,b,o,h,w,E,m,S,V,L,q,P,N,$,Z,Y,I;function C(z){e[9](z)}let W={dynamicPositioning:"true",closeOnSelection:!0,format:"yyyy-MM-dd",placeholder:""};e[0]!==void 0&&(W.value=e[0]),b=new sa({props:W}),Ee.push(()=>Oe(b,"value",C));function X(z){e[11](z)}function le(z){e[12](z)}let F={id:"time-range",formatter:e[10],max:e[5].length-1,range:"min",suffix:"h",pushy:!0,pips:!0,all:"label",float:!0};return e[2]!==void 0&&(F.pipstep=e[2]),e[1]!==void 0&&(F.values=e[1]),m=new aa({props:F}),Ee.push(()=>Oe(m,"pipstep",X)),Ee.push(()=>Oe(m,"values",le)),m.$on("change",e[13]),$=new la({props:{size:"xl",class:"text-purple-900"}}),$.$on("click",e[7]),Y=new na({props:{size:"xl",class:"text-purple-900"}}),Y.$on("click",e[6]),{c(){t=u("div"),s=u("div"),a=u("div"),n=u("div"),r=u("p"),c=Te(e[4]),i=M(),p=u("p"),x=Te(e[3]),D=Te(":00:00"),_=M(),g=u("div"),k=u("div"),oe(b.$$.fragment),h=M(),w=u("div"),E=u("div"),oe(m.$$.fragment),L=M(),q=u("div"),P=u("div"),N=u("div"),oe($.$$.fragment),Z=M(),oe(Y.$$.fragment),this.h()},l(z){t=f(z,"DIV",{class:!0});var ie=y(t);s=f(ie,"DIV",{id:!0,class:!0});var j=y(s);a=f(j,"DIV",{class:!0});var O=y(a);n=f(O,"DIV",{class:!0});var J=y(n);r=f(J,"P",{class:!0});var ee=y(r);c=Le(ee,e[4]),ee.forEach(v),i=T(J),p=f(J,"P",{class:!0});var G=y(p);x=Le(G,e[3]),D=Le(G,":00:00"),G.forEach(v),J.forEach(v),O.forEach(v),_=T(j),g=f(j,"DIV",{class:!0});var he=y(g);k=f(he,"DIV",{class:!0});var be=y(k);ce(b.$$.fragment,be),be.forEach(v),he.forEach(v),h=T(j),w=f(j,"DIV",{class:!0,style:!0});var we=y(w);E=f(we,"DIV",{class:!0,style:!0});var me=y(E);ce(m.$$.fragment,me),me.forEach(v),we.forEach(v),L=T(j),q=f(j,"DIV",{class:!0});var qe=y(q);P=f(qe,"DIV",{class:!0});var De=y(P);N=f(De,"DIV",{id:!0,class:!0});var fe=y(N);ce($.$$.fragment,fe),Z=T(fe),ce(Y.$$.fragment,fe),fe.forEach(v),De.forEach(v),qe.forEach(v),j.forEach(v),ie.forEach(v),this.h()},h(){d(r,"class","font-bold text-purple-900 mb-0"),d(p,"class","mb-0"),d(n,"class","text-center"),d(a,"class","flex p-2 border-end border-start svelte-qkqnwo"),d(k,"class",""),d(g,"class","flex p-2 border-end svelte-qkqnwo"),d(E,"class","p-2"),Ze(E,"width","-webkit-fill-available"),d(w,"class","basis-1/2"),Ze(w,"width","-webkit-fill-available"),d(N,"id","timeslider-btn"),d(N,"class","flex"),d(P,"class",""),d(q,"class","flex p-2 border-end border-start svelte-qkqnwo"),d(s,"id","timeslider"),d(s,"class","flex justify-center items-center svelte-qkqnwo"),d(t,"class","timeslider-class svelte-qkqnwo")},m(z,ie){se(z,t,ie),l(t,s),l(s,a),l(a,n),l(n,r),l(r,c),l(n,i),l(n,p),l(p,x),l(p,D),l(s,_),l(s,g),l(g,k),de(b,k,null),l(s,h),l(s,w),l(w,E),de(m,E,null),l(s,L),l(s,q),l(q,P),l(P,N),de($,N,null),l(N,Z),de(Y,N,null),I=!0},p(z,[ie]){(!I||ie&16)&&wt(c,z[4]),(!I||ie&8)&&wt(x,z[3]);const j={};!o&&ie&1&&(o=!0,j.value=z[0],Ne(()=>o=!1)),b.$set(j);const O={};!S&&ie&4&&(S=!0,O.pipstep=z[2],Ne(()=>S=!1)),!V&&ie&2&&(V=!0,O.values=z[1],Ne(()=>V=!1)),m.$set(O)},i(z){I||(U(b.$$.fragment,z),U(m.$$.fragment,z),U($.$$.fragment,z),U(Y.$$.fragment,z),I=!0)},o(z){K(b.$$.fragment,z),K(m.$$.fragment,z),K($.$$.fragment,z),K(Y.$$.fragment,z),I=!1},d(z){z&&v(t),ue(b),ue(m),ue($),ue(Y)}}}function qs(e){let t=""+(e.getMonth()+1),s=""+e.getDate(),a=e.getFullYear();return t.length<2&&(t="0"+t),s.length<2&&(s="0"+s),[a,t,s].join("-")}function Pa(e,t,s){let a,n;H(e,_t,$=>s(3,a=$)),H(e,is,$=>s(4,n=$));let r=new Date,c=new Date,i=[10],p=1,x=[],D=moment(),_=moment(D).add(1,"days");console.log(_);const g=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],k=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];let b=qs(new Date);function o($,Z,Y){let I=moment(`2017-08-30T${$}:00`),C=moment(`2017-08-30T${Z}:00`).subtract(Y,"hours"),W=[];for(W.push(I.format("HH")),x.push(I.format("H"));W[W.length-1]<C.format("HH");)W.push(I.add(Y,"hours").format("HH")),x.push(I.format("H"));return W}let h=o("01:00","24:00",3);function w(){i[0]===h.length-1?s(1,i=[0]):s(1,i=[i[0]+1]),Mt.set(h[i]),R(_t,a=h[i],a)}function E(){i[0]===0?s(1,i=[h.length-1]):s(1,i=[i[0]-1]),Mt.set(h[i]),R(_t,a=h[i],a)}function m($){Mt.set(h[$.detail.value]),R(_t,a=h[$.detail.value],a)}async function S($,Z){let I=await(await fetch("/svelte-api/latest_date?data=geos",{method:"GET"})).json();Qt.set(I.response),Mt.set($),rs.set(Z)}us(async()=>{let $=r.getHours(),Z=x.reduce(function(I,C){return Math.abs(C-$)<Math.abs(I-$)?C:I}),Y=x.findIndex(I=>I===Z);s(1,i=[Y]),R(_t,a=h[Y],a),S(h[Y],b)});function V($){c=$,s(0,c)}const L=$=>h[$];function q($){p=$,s(2,p)}function P($){i=$,s(1,i)}const N=$=>m($);return e.$$.update=()=>{if(e.$$.dirty&1&&c){let $=c.getFullYear(),Z=c.getMonth(),Y=c.getDate(),I=c.getDay();R(is,n=g[I]+" "+k[Z]+" "+Y+" "+$,n),rs.set(qs(c))}},[c,i,p,a,n,h,w,E,m,V,L,q,P,N]}class Ha extends $e{constructor(t){super(),Ve(this,t,Pa,Va,Pe,{})}}const qa=e=>({}),zs=e=>({});function za(e){let t,s,a,n="x",r,c,i,p,x,D,_;const g=e[3].header,k=Ts(g,e,e[2],zs),b=e[3].default,o=Ts(b,e,e[2],null);return{c(){t=u("dialog"),s=u("div"),a=u("button"),a.textContent=n,r=M(),k&&k.c(),c=M(),o&&o.c(),i=M(),p=u("br"),this.h()},l(h){t=f(h,"DIALOG",{class:!0});var w=y(t);s=f(w,"DIV",{class:!0});var E=y(s);a=f(E,"BUTTON",{class:!0,"data-svelte-h":!0}),A(a)!=="svelte-vbf0fn"&&(a.textContent=n),r=T(E),k&&k.l(E),c=T(E),o&&o.l(E),i=T(E),p=f(E,"BR",{}),E.forEach(v),w.forEach(v),this.h()},h(){d(a,"class","modal-close-button svelte-1ao7csy"),d(s,"class","svelte-1ao7csy"),d(t,"class","svelte-1ao7csy")},m(h,w){se(h,t,w),l(t,s),l(s,a),l(s,r),k&&k.m(s,null),l(s,c),o&&o.m(s,null),l(s,i),l(s,p),e[6](t),x=!0,D||(_=[ae(a,"click",e[5]),ae(s,"click",ra(e[4])),ae(t,"close",e[7]),ae(t,"click",ia(e[8]))],D=!0)},p(h,[w]){k&&k.p&&(!x||w&4)&&Ls(k,g,h,h[2],x?Vs(g,h[2],w,qa):$s(h[2]),zs),o&&o.p&&(!x||w&4)&&Ls(o,b,h,h[2],x?Vs(b,h[2],w,null):$s(h[2]),null)},i(h){x||(U(k,h),U(o,h),x=!0)},o(h){K(k,h),K(o,h),x=!1},d(h){h&&v(t),k&&k.d(h),o&&o.d(h),e[6](null),D=!1,Dt(_)}}}function Ba(e,t,s){let{$$slots:a={},$$scope:n}=t,{showModal:r}=t,c;oa(()=>console.log("modal was destroyed!"));function i(g){ca.call(this,e,g)}const p=()=>c.close();function x(g){Ee[g?"unshift":"push"](()=>{c=g,s(1,c)})}const D=()=>s(0,r=!1),_=()=>c.close();return e.$$set=g=>{"showModal"in g&&s(0,r=g.showModal),"$$scope"in g&&s(2,n=g.$$scope)},e.$$.update=()=>{e.$$.dirty&3&&c&&r&&c.showModal()},[r,c,n,a,i,p,x,D,_]}class Fa extends $e{constructor(t){super(),Ve(this,t,Ba,za,Pe,{showModal:0})}}function Aa(e){let t,s,a='<a class="btn-tool d-block"><p class="icon d-flex align-items-center justify-content-center rounded-circle mx-auto"><img class="d-block" src="assets/img/icon/icon-tool-1.svg" alt=""/></p> <p class="text d-block text-sm text-center mb-0"><span class="d-block">Air</span> Quality</p></a>',n,r,c='<a class="btn-tool d-block"><p class="icon d-flex align-items-center justify-content-center rounded-circle mx-auto"><img class="d-block" src="assets/img/icon/icon-tool-2.svg" alt=""/></p> <p class="text d-block text-sm text-center mb-0"><span class="d-block">Ground</span> Station</p></a>',i,p,x='<a class="btn-tool d-block"><p class="icon d-flex align-items-center justify-content-center rounded-circle mx-auto"><img class="d-block" src="assets/img/icon/icon-tool-3.svg" alt=""/></p> <p class="text d-block text-sm text-center mb-0"><span class="d-block">Fire</span> Product</p></a>',D,_,g='<a class="btn-tool d-block"><p class="icon d-flex align-items-center justify-content-center rounded-circle mx-auto"><img class="d-block" src="assets/img/icon/icon-tool-4.svg" alt=""/></p> <p class="text d-block text-sm text-center mb-0"><span class="d-block">Statistics</span> Report</p></a>',k,b,o='<a class="btn-tool d-block"><p class="icon d-flex align-items-center justify-content-center rounded-circle mx-auto"><img class="d-block" src="assets/img/icon/icon-tool-5.svg" alt=""/></p> <p class="text d-block text-sm text-center mb-0"><span class="d-block">Base</span> Map</p></a>',h,w;return{c(){t=u("div"),s=u("div"),s.innerHTML=a,n=M(),r=u("div"),r.innerHTML=c,i=M(),p=u("div"),p.innerHTML=x,D=M(),_=u("div"),_.innerHTML=g,k=M(),b=u("div"),b.innerHTML=o,this.h()},l(E){t=f(E,"DIV",{class:!0});var m=y(t);s=f(m,"DIV",{class:!0,"data-svelte-h":!0}),A(s)!=="svelte-1lqf13n"&&(s.innerHTML=a),n=T(m),r=f(m,"DIV",{class:!0,"data-svelte-h":!0}),A(r)!=="svelte-j6j13u"&&(r.innerHTML=c),i=T(m),p=f(m,"DIV",{class:!0,"data-svelte-h":!0}),A(p)!=="svelte-1ph61d1"&&(p.innerHTML=x),D=T(m),_=f(m,"DIV",{class:!0,"data-svelte-h":!0}),A(_)!=="svelte-9oc9vu"&&(_.innerHTML=g),k=T(m),b=f(m,"DIV",{class:!0,"data-svelte-h":!0}),A(b)!=="svelte-191qql3"&&(b.innerHTML=o),m.forEach(v),this.h()},h(){d(s,"class","air-quality"),d(r,"class","ground-station"),d(p,"class","fire-product"),d(_,"class","statistics-map"),d(b,"class","base-map"),d(t,"class","detail")},m(E,m){se(E,t,m),l(t,s),l(t,n),l(t,r),l(t,i),l(t,p),l(t,D),l(t,_),l(t,k),l(t,b),h||(w=[ae(s,"click",e[4]),ae(s,"keydown",e[4]),ae(r,"click",e[5]),ae(r,"keydown",e[6]),ae(p,"click",e[7]),ae(p,"keydown",e[8]),ae(_,"click",e[9]),ae(_,"keydown",e[10]),ae(b,"click",e[3])],h=!0)},p:pe,i:pe,o:pe,d(E){E&&v(t),h=!1,Dt(w)}}}function ja(e,t,s){let a,n,r,c,i;H(e,xt,h=>s(11,a=h)),H(e,kt,h=>s(12,n=h)),H(e,rt,h=>s(0,r=h)),H(e,$t,h=>s(1,c=h)),H(e,Re,h=>s(2,i=h));function p(){R(kt,n=!n,n),n&&setTimeout(()=>{document.querySelectorAll("#mapsettingPanel").forEach(h=>h.style.display="block")},5)}function x(){R(xt,a=!a,a),a&&setTimeout(()=>{document.querySelectorAll("#select_air_pollutant").forEach(h=>h.style.display="block")},5)}return[r,c,i,p,x,()=>R(rt,r=!r,r),()=>R(rt,r=!r,r),()=>R($t,c=!c,c),()=>R($t,c=!c,c),()=>R(Re,i=!i,i),()=>R(Re,i=!i,i)]}class Ga extends $e{constructor(t){super(),Ve(this,t,ja,Aa,Pe,{})}}function Oa(e,t,s,a){let n=Ps().domain(t).range(e),r=da(a).append("svg").attr("width",270),i=r.append("defs").append("linearGradient").attr("id","linear-gradient");i.attr("x1","0%").attr("y1","0%").attr("x2","100%").attr("y2","0%"),i.selectAll("stop").data([{offset:"0%",color:e[0]},{offset:"10%",color:e[1]},{offset:"20%",color:e[2]},{offset:"30%",color:e[3]},{offset:"40%",color:e[4]},{offset:"50%",color:e[5]},{offset:"60%",color:e[6]},{offset:"70%",color:e[7]},{offset:"80%",color:e[8]},{offset:"90%",color:e[9]},{offset:"100%",color:e[10]}]).enter().append("stop").attr("offset",function(D){return D.offset}).attr("stop-color",function(D){return D.color}),r.append("rect").attr("x",10).attr("y",10).attr("width",250).attr("height",10).style("fill","url(#linear-gradient)");let p=Ps().domain(s).range([10,250]),x=ua(p).tickValues(n.domain());r.attr("class","axis").append("g").attr("transform","translate(0, 15)").call(x)}function Bs(e,t,s){const a=e.slice();return a[9]=t[s],a}function Fs(e){let t,s=e[9].name+"",a,n;return{c(){t=u("option"),a=Te(s),this.h()},l(r){t=f(r,"OPTION",{});var c=y(t);a=Le(c,s),c.forEach(v),this.h()},h(){t.__value=n=e[9].value,nt(t,t.__value)},m(r,c){se(r,t,c),l(t,a)},p(r,c){c&2&&s!==(s=r[9].name+"")&&wt(a,s),c&2&&n!==(n=r[9].value)&&(t.__value=n,nt(t,t.__value))},d(r){r&&v(t)}}}function Na(e){let t,s,a,n='<p class="text blue-600 text-sm mb-0">Surface PM 2.5 (ugm-3)</p> <p class="cursor-pointer icon ms-15 mb-0"><img class="d-block" style="height: 15px;" src="/assets/img/icon/head-information.svg" alt=""/></p>',r,c,i,p='<div id="legend" class="map-legend"></div>',x,D,_,g='<p class="icon mb-0"><img class="d-block w-100" src="/assets/img/icon/icon-ugm-2.svg" alt=""/></p>',k,b,o,h,w,E=yt(e[1]),m=[];for(let S=0;S<E.length;S+=1)m[S]=Fs(Bs(e,E,S));return{c(){t=u("div"),s=u("div"),a=u("div"),a.innerHTML=n,r=M(),c=u("div"),i=u("div"),i.innerHTML=p,x=M(),D=u("div"),_=u("div"),_.innerHTML=g,k=M(),b=u("div"),o=u("select");for(let S=0;S<m.length;S+=1)m[S].c();this.h()},l(S){t=f(S,"DIV",{class:!0});var V=y(t);s=f(V,"DIV",{class:!0});var L=y(s);a=f(L,"DIV",{class:!0,"data-svelte-h":!0}),A(a)!=="svelte-12x23ds"&&(a.innerHTML=n),r=T(L),c=f(L,"DIV",{class:!0});var q=y(c);i=f(q,"DIV",{class:!0,"data-svelte-h":!0}),A(i)!=="svelte-a75pea"&&(i.innerHTML=p),x=T(q),D=f(q,"DIV",{class:!0});var P=y(D);_=f(P,"DIV",{class:!0,"data-svelte-h":!0}),A(_)!=="svelte-1al5iwn"&&(_.innerHTML=g),k=T(P),b=f(P,"DIV",{class:!0});var N=y(b);o=f(N,"SELECT",{id:!0,class:!0});var $=y(o);for(let Z=0;Z<m.length;Z+=1)m[Z].l($);$.forEach(v),N.forEach(v),P.forEach(v),q.forEach(v),L.forEach(v),V.forEach(v),this.h()},h(){d(a,"class","head border-bottom border-green d-flex align-items-center justify-content-between mb-1 pb-05 w-100"),d(i,"class","box__color mb-05"),d(_,"class","col-2"),d(o,"id","select2_satellite"),d(o,"class","nice-select wide selectize"),e[0]===void 0&&Ut(()=>e[4].call(o)),d(b,"class","col"),d(D,"class","row no-gutters align-items-center"),d(c,"class","box__description"),d(s,"class","info bg-white mb-2 p-15 rounded"),d(t,"class","item svelte-1lbf8na")},m(S,V){se(S,t,V),l(t,s),l(s,a),l(s,r),l(s,c),l(c,i),l(c,x),l(c,D),l(D,_),l(D,k),l(D,b),l(b,o);for(let L=0;L<m.length;L+=1)m[L]&&m[L].m(o,null);Ye(o,e[0],!0),h||(w=ae(o,"change",e[4]),h=!0)},p(S,[V]){if(V&2){E=yt(S[1]);let L;for(L=0;L<E.length;L+=1){const q=Bs(S,E,L);m[L]?m[L].p(q,V):(m[L]=Fs(q),m[L].c(),m[L].m(o,null))}for(;L<m.length;L+=1)m[L].d(1);m.length=E.length}V&3&&Ye(o,S[0])},i:pe,o:pe,d(S){S&&v(t),fs(m,S),h=!1,w()}}}function Ra(e,t,s){let a,n,r,c,i;H(e,bt,_=>s(0,a=_)),H(e,Vt,_=>s(3,n=_)),H(e,Rt,_=>s(5,r=_)),H(e,Ht,_=>s(6,c=_)),H(e,ls,_=>s(1,i=_)),bt.set("geos5km"),Vt.set("pm25"),Rt.set("BC_DNN_PM25"),R(Ht,c=!0,c);let p=[],x={pm25:{geos5km:"DS_BC_DNN_PM25",geos25km:"BC_DNN_PM25"},no2:{gems:"ColumnAmountNO2Trop"}};us(()=>{Oa(["#FFFFFF","#E0EFF4","#84A8CB","#7985BB","#8B6EA4","#B47C9E","#EA9394","#FCC495","#F8D19C","#FBEAC2","#FDECC7"],[0,50,100,150,200,250,300],[0,300],"#legend")});function D(){a=Zt(this),bt.set(a)}return e.$$.update=()=>{e.$$.dirty&12&&n==="no2"&&(s(2,p=[{value:"gems",name:"GEMS"},{value:"sentinel5p",name:"Sentinel 5P"}]),R(ls,i=p,i),R(bt,a="gems",a)),e.$$.dirty&12&&n==="pm25"&&(s(2,p=[{value:"geos25km",name:"GEOS-ML 25x25km"},{value:"geos5km",name:"GEOS-ML 5x5km"}]),R(ls,i=p,i),R(bt,a="geos5km",a)),e.$$.dirty&9&&a!==""&&R(Rt,r=x[n][a],r)},[a,i,p,n,D]}class Wa extends $e{constructor(t){super(),Ve(this,t,Ra,Na,Pe,{})}}function Ua(e){let t,s,a,n='<p class="text blue-600 text-sm mb-0">Ground Stations</p> <p class="cursor-pointer icon ms-15 mb-0"><img class="d-block" style="height: 15px;" src="assets/img/icon/head-information.svg" alt=""/></p>',r,c,i,p,x='<p class="icon mb-0"><img class="d-block w-100" src="assets/img/icon/icon-ugm-3.svg" alt=""/></p>',D,_,g,k,b="Pollution Control Department",o,h="Aeronet",w,E="Embassy",m,S;return{c(){t=u("div"),s=u("div"),a=u("div"),a.innerHTML=n,r=M(),c=u("div"),i=u("div"),p=u("div"),p.innerHTML=x,D=M(),_=u("div"),g=u("select"),k=u("option"),k.textContent=b,o=u("option"),o.textContent=h,w=u("option"),w.textContent=E,this.h()},l(V){t=f(V,"DIV",{class:!0});var L=y(t);s=f(L,"DIV",{class:!0});var q=y(s);a=f(q,"DIV",{class:!0,"data-svelte-h":!0}),A(a)!=="svelte-17pg3bs"&&(a.innerHTML=n),r=T(q),c=f(q,"DIV",{class:!0});var P=y(c);i=f(P,"DIV",{class:!0});var N=y(i);p=f(N,"DIV",{class:!0,"data-svelte-h":!0}),A(p)!=="svelte-glq2g4"&&(p.innerHTML=x),D=T(N),_=f(N,"DIV",{class:!0});var $=y(_);g=f($,"SELECT",{id:!0,class:!0});var Z=y(g);k=f(Z,"OPTION",{"data-svelte-h":!0}),A(k)!=="svelte-19fdb44"&&(k.textContent=b),o=f(Z,"OPTION",{"data-svelte-h":!0}),A(o)!=="svelte-usgr3e"&&(o.textContent=h),w=f(Z,"OPTION",{"data-svelte-h":!0}),A(w)!=="svelte-tzjcwq"&&(w.textContent=E),Z.forEach(v),$.forEach(v),N.forEach(v),P.forEach(v),q.forEach(v),L.forEach(v),this.h()},h(){d(a,"class","head border-bottom border-green d-flex align-items-center justify-content-between mb-1 pb-05 w-100"),d(p,"class","col-2"),k.__value="pcd",nt(k,k.__value),o.__value="aeronet",nt(o,o.__value),w.__value="embassy",nt(w,w.__value),d(g,"id","select2-station"),d(g,"class","nice-select wide selectize"),e[0]===void 0&&Ut(()=>e[1].call(g)),d(_,"class","col"),d(i,"class","row no-gutters align-items-center"),d(c,"class","box__description"),d(s,"class","info bg-white mb-2 p-15 rounded"),d(t,"class","item")},m(V,L){se(V,t,L),l(t,s),l(s,a),l(s,r),l(s,c),l(c,i),l(i,p),l(i,D),l(i,_),l(_,g),l(g,k),l(g,o),l(g,w),Ye(g,e[0],!0),m||(S=ae(g,"change",e[1]),m=!0)},p(V,[L]){L&1&&Ye(g,V[0])},i:pe,o:pe,d(V){V&&v(t),m=!1,S()}}}function Za(e,t,s){let a,n,r;H(e,os,i=>s(2,a=i)),H(e,as,i=>s(0,n=i)),H(e,rt,i=>s(3,r=i)),R(as,n="pcd",n),R(rt,r=!0,r),setTimeout(()=>{NiceSelect.bind(document.querySelector("#select2-station"))},100);function c(){n=Zt(this),as.set(n)}return e.$$.update=()=>{e.$$.dirty&1&&n==="pcd"&&R(os,a=!0,a)},[n,c]}class Qa extends $e{constructor(t){super(),Ve(this,t,Za,Ua,Pe,{})}}function As(e,t,s){const a=e.slice();return a[3]=t[s],a}function js(e){let t,s=e[3].name+"",a;return{c(){t=u("option"),a=Te(s),this.h()},l(n){t=f(n,"OPTION",{});var r=y(t);a=Le(r,s),r.forEach(v),this.h()},h(){t.__value=e[3].value,nt(t,t.__value)},m(n,r){se(n,t,r),l(t,a)},p:pe,d(n){n&&v(t)}}}function Ya(e){let t,s,a,n='<p class="text blue-600 text-sm mb-0">Fire Product</p> <p class="cursor-pointer icon ms-15 mb-0"><img class="d-block" style="height: 15px;" src="assets/img/icon/head-information.svg" alt=""/></p>',r,c,i,p,x='<p class="icon mb-0"><img class="d-block w-100" src="assets/img/icon/icon-ugm-1.svg" alt=""/></p>',D,_,g,k,b,o=yt(e[1]),h=[];for(let w=0;w<o.length;w+=1)h[w]=js(As(e,o,w));return{c(){t=u("div"),s=u("div"),a=u("div"),a.innerHTML=n,r=M(),c=u("div"),i=u("div"),p=u("div"),p.innerHTML=x,D=M(),_=u("div"),g=u("select");for(let w=0;w<h.length;w+=1)h[w].c();this.h()},l(w){t=f(w,"DIV",{class:!0});var E=y(t);s=f(E,"DIV",{class:!0});var m=y(s);a=f(m,"DIV",{class:!0,"data-svelte-h":!0}),A(a)!=="svelte-zptitx"&&(a.innerHTML=n),r=T(m),c=f(m,"DIV",{class:!0});var S=y(c);i=f(S,"DIV",{class:!0});var V=y(i);p=f(V,"DIV",{class:!0,"data-svelte-h":!0}),A(p)!=="svelte-1lzl765"&&(p.innerHTML=x),D=T(V),_=f(V,"DIV",{class:!0});var L=y(_);g=f(L,"SELECT",{id:!0,class:!0});var q=y(g);for(let P=0;P<h.length;P+=1)h[P].l(q);q.forEach(v),L.forEach(v),V.forEach(v),S.forEach(v),m.forEach(v),E.forEach(v),this.h()},h(){d(a,"class","head border-bottom border-green d-flex align-items-center justify-content-between mb-1 pb-05 w-100"),d(p,"class","col-2"),d(g,"id","select2-fire"),d(g,"class","nice-select wide selectize"),e[0]===void 0&&Ut(()=>e[2].call(g)),d(_,"class","col"),d(i,"class","row no-gutters align-items-center"),d(c,"class","box__description"),d(s,"class","info bg-white mb-2 p-15 rounded"),d(t,"class","item")},m(w,E){se(w,t,E),l(t,s),l(s,a),l(s,r),l(s,c),l(c,i),l(i,p),l(i,D),l(i,_),l(_,g);for(let m=0;m<h.length;m+=1)h[m]&&h[m].m(g,null);Ye(g,e[0],!0),k||(b=ae(g,"change",e[2]),k=!0)},p(w,[E]){if(E&2){o=yt(w[1]);let m;for(m=0;m<o.length;m+=1){const S=As(w,o,m);h[m]?h[m].p(S,E):(h[m]=js(S),h[m].c(),h[m].m(g,null))}for(;m<h.length;m+=1)h[m].d(1);h.length=o.length}E&3&&Ye(g,w[0])},i:pe,o:pe,d(w){w&&v(t),fs(h,w),k=!1,b()}}}function Ja(e,t,s){let a;H(e,Pt,c=>s(0,a=c));let n=[{value:"fires_viirs_24",name:"VIIRS active fire last 24 hours"},{value:"fires_viirs_48",name:"VIIRS active fire last 48 hours"},{value:"fires_viirs_time",name:"VIIRS active fire for a single day"},{value:"vfei",name:"VIIRS-based Fire Emission Inventory"}];setTimeout(()=>{NiceSelect.bind(document.querySelector("#select2-fire"))},100);function r(){a=Zt(this),Pt.set(a),s(1,n)}return[a,n,r]}class Ka extends $e{constructor(t){super(),Ve(this,t,Ja,Ya,Pe,{})}}function Xa(e){let t,s,a='<img class="d-block" src="assets/img/icon/close.svg" alt=""/>',n,r,c='<p class="icon me-15 mb-0"><img style="height: 25px;" src="assets/img/icon/base-map.svg" alt=""/></p> <p class="text blue-600 text-2lg font-bold mb-0">Base Map</p>',i,p,x,D,_,g,k,b,o,h,w,E,m='<p class="text-sm mb-0">Light</p> <p class="text-xs">Displays a map in light theme</p>',S,V,L,q,P,N,$,Z,Y,I='<p class="text-sm mb-0">Dark</p> <p class="text-xs">Displays a map in dark theme</p>',C,W,X,le,F,z,ie,j,O,J='<p class="text-sm mb-0">Classic</p> <p class="text-xs">Displays the default road map view</p>',ee,G,he,be,we,me,qe,De,fe,_e='<p class="text-sm mb-0">Wind</p> <p class="text-xs">wind forecast data (6 hourly from NOAA)</p>',B,Q;return{c(){t=u("div"),s=u("a"),s.innerHTML=a,n=M(),r=u("div"),r.innerHTML=c,i=M(),p=u("div"),x=u("div"),D=u("div"),_=u("a"),g=u("div"),k=u("div"),b=u("p"),o=u("img"),w=M(),E=u("div"),E.innerHTML=m,S=M(),V=u("a"),L=u("div"),q=u("div"),P=u("p"),N=u("img"),Z=M(),Y=u("div"),Y.innerHTML=I,C=M(),W=u("a"),X=u("div"),le=u("div"),F=u("p"),z=u("img"),j=M(),O=u("div"),O.innerHTML=J,ee=M(),G=u("a"),he=u("div"),be=u("div"),we=u("p"),me=u("img"),De=M(),fe=u("div"),fe.innerHTML=_e,this.h()},l(ye){t=f(ye,"DIV",{id:!0,class:!0});var ne=y(t);s=f(ne,"A",{class:!0,"data-svelte-h":!0}),A(s)!=="svelte-1fsuvn8"&&(s.innerHTML=a),n=T(ne),r=f(ne,"DIV",{class:!0,"data-svelte-h":!0}),A(r)!=="svelte-m2t4hp"&&(r.innerHTML=c),i=T(ne),p=f(ne,"DIV",{class:!0});var ve=y(p);x=f(ve,"DIV",{class:!0});var ge=y(x);D=f(ge,"DIV",{class:!0});var ke=y(D);_=f(ke,"A",{class:!0});var Ce=y(_);g=f(Ce,"DIV",{class:!0});var Je=y(g);k=f(Je,"DIV",{class:!0});var it=y(k);b=f(it,"P",{class:!0});var ze=y(b);o=f(ze,"IMG",{class:!0,src:!0,alt:!0}),ze.forEach(v),it.forEach(v),w=T(Je),E=f(Je,"DIV",{class:!0,"data-svelte-h":!0}),A(E)!=="svelte-th25ga"&&(E.innerHTML=m),Je.forEach(v),Ce.forEach(v),S=T(ke),V=f(ke,"A",{class:!0});var It=y(V);L=f(It,"DIV",{class:!0});var We=y(L);q=f(We,"DIV",{class:!0});var Be=y(q);P=f(Be,"P",{class:!0});var Ie=y(P);N=f(Ie,"IMG",{class:!0,src:!0,alt:!0}),Ie.forEach(v),Be.forEach(v),Z=T(We),Y=f(We,"DIV",{class:!0,"data-svelte-h":!0}),A(Y)!=="svelte-174u9f6"&&(Y.innerHTML=I),We.forEach(v),It.forEach(v),C=T(ke),W=f(ke,"A",{class:!0});var Fe=y(W);X=f(Fe,"DIV",{class:!0});var Ke=y(X);le=f(Ke,"DIV",{class:!0});var ot=y(le);F=f(ot,"P",{class:!0});var He=y(F);z=f(He,"IMG",{class:!0,src:!0,alt:!0}),He.forEach(v),ot.forEach(v),j=T(Ke),O=f(Ke,"DIV",{class:!0,"data-svelte-h":!0}),A(O)!=="svelte-11gc5uy"&&(O.innerHTML=J),Ke.forEach(v),Fe.forEach(v),ee=T(ke),G=f(ke,"A",{class:!0});var je=y(G);he=f(je,"DIV",{class:!0});var Se=y(he);be=f(Se,"DIV",{class:!0});var ct=y(be);we=f(ct,"P",{class:!0});var Ge=y(we);me=f(Ge,"IMG",{class:!0,src:!0,alt:!0}),Ge.forEach(v),ct.forEach(v),De=T(Se),fe=f(Se,"DIV",{class:!0,"data-svelte-h":!0}),A(fe)!=="svelte-e8401g"&&(fe.innerHTML=_e),Se.forEach(v),je.forEach(v),ke.forEach(v),ge.forEach(v),ve.forEach(v),ne.forEach(v),this.h()},h(){d(s,"class","btn-close border-0 d-flex align-items-center justify-content-center"),d(r,"class","head border-bottom border-green d-flex align-items-center mb-1 pb-1 w-100"),d(o,"class","d-block w-100"),jt(o.src,h=tl)||d(o,"src",h),d(o,"alt",""),d(b,"class","pic mb-0 me-1"),d(k,"class","col-auto"),d(E,"class","col"),d(g,"class","row no-gutters align-items-center"),d(_,"class","d-block item mb-1 p-1"),d(N,"class","d-block w-100"),jt(N.src,$=sl)||d(N,"src",$),d(N,"alt",""),d(P,"class","pic mb-0 me-1"),d(q,"class","col-auto"),d(Y,"class","col"),d(L,"class","row no-gutters align-items-center"),d(V,"class","d-block item mb-1 p-1"),d(z,"class","d-block w-100"),jt(z.src,ie=el)||d(z,"src",ie),d(z,"alt",""),d(F,"class","pic mb-0 me-1"),d(le,"class","col-auto"),d(O,"class","col"),d(X,"class","row no-gutters align-items-center"),d(W,"class","d-block item mb-1 p-1"),d(me,"class","d-block w-100"),jt(me.src,qe=al)||d(me,"src",qe),d(me,"alt",""),d(we,"class","pic mb-0 me-1"),d(be,"class","col-auto"),d(fe,"class","col"),d(he,"class","row no-gutters align-items-center"),d(G,"class","d-block item mb-1 p-1 active"),d(D,"class","list__info"),d(x,"class","box__overflow pe-1"),d(p,"class","box__description"),d(t,"id","mapsettingPanel"),d(t,"class","box__info-base-map p-2 rounded")},m(ye,ne){se(ye,t,ne),l(t,s),l(t,n),l(t,r),l(t,i),l(t,p),l(p,x),l(x,D),l(D,_),l(_,g),l(g,k),l(k,b),l(b,o),l(g,w),l(g,E),l(D,S),l(D,V),l(V,L),l(L,q),l(q,P),l(P,N),l(L,Z),l(L,Y),l(D,C),l(D,W),l(W,X),l(X,le),l(le,F),l(F,z),l(X,j),l(X,O),l(D,ee),l(D,G),l(G,he),l(he,be),l(be,we),l(we,me),l(he,De),l(he,fe),B||(Q=[ae(s,"click",e[2]),ae(_,"click",e[3]),ae(V,"click",e[4]),ae(W,"click",e[5]),ae(G,"click",ll)],B=!0)},p:pe,i:pe,o:pe,d(ye){ye&&v(t),B=!1,Dt(Q)}}}const el="/assets/img/classic-basemap.png",tl="/assets/img/light-basemap.png",sl="/assets/img/dark-basemap.png",al="/assets/img/wind-basemap.png";function ll(){console.log("toggle wind");const e=document.querySelector(".wind-map-container");e.style.display=e.style.display==="none"?"block":"none"}function nl(e,t,s){let a,n;return H(e,kt,x=>s(0,a=x)),H(e,Tt,x=>s(1,n=x)),[a,n,()=>R(kt,a=!1,a),()=>R(Tt,n="cltinohfj002101pc7cut13aj",n),()=>R(Tt,n="cltiptdlg004y01ph1rm84xru",n),()=>R(Tt,n="ckb2mbm240t2s1itc1dtmk5pf",n)]}class rl extends $e{constructor(t){super(),Ve(this,t,nl,Xa,Pe,{})}}function il(e){let t,s,a="Mekong PM2.5 Ranking",n,r,c,i,p,x,D,_,g,k,b,o,h='<div class="d-flex justify-content-start"><div class="p-2 width10  svelte-27zeta">#</div> <div class="p-2 width70 svelte-27zeta">Major city</div> <div class="p-2 width20 svelte-27zeta"></div></div>',w,E,m,S,V="1",L,q,P,N,$,Z,Y="Thailand, Bangkok",I,C,W='<span class="badge rounded-pill bg-success svelte-27zeta">234</span>',X,le,F,z,ie="1",j,O,J,ee,G,he,be="Thailand, Bangkok",we,me,qe='<span class="badge rounded-pill bg-success svelte-27zeta">12</span>',De,fe,_e,B,Q="1",ye,ne,ve,ge,ke,Ce,Je="Laos, Bangkok",it,ze,It='<span class="badge rounded-pill bg-success svelte-27zeta">32</span>',We,Be,Ie,Fe,Ke="1",ot,He,je,Se,ct,Ge,ps="Thailand, Bangkok",Yt,Xe,ms='<span class="badge rounded-pill bg-success svelte-27zeta">234</span>',Jt,et,Ae,tt,hs="1",Kt,Ue,dt,st,Xt,ut,vs="Thailand, Bangkok",es,at,gs='<span class="badge rounded-pill bg-success svelte-27zeta">64</span>',ft,ts,_s;return r=new Ys({props:{class:"mb-4 dark:text-white"}}),r.$on("click",e[5]),N=new fa({props:{size:"20"}}),ee=new pa({props:{size:"20"}}),ge=new ma({props:{size:"20"}}),Se=new ha({props:{size:"20"}}),st=new va({props:{size:"20"}}),{c(){t=u("div"),s=u("h5"),s.textContent=a,n=M(),oe(r.$$.fragment),c=M(),i=u("p"),p=Te(e[1]),x=Te(":00:00"),D=M(),_=u("p"),g=Te(e[2]),k=M(),b=u("ul"),o=u("li"),o.innerHTML=h,w=M(),E=u("li"),m=u("div"),S=u("div"),S.textContent=V,L=M(),q=u("div"),P=u("div"),oe(N.$$.fragment),$=M(),Z=u("div"),Z.textContent=Y,I=M(),C=u("div"),C.innerHTML=W,X=M(),le=u("li"),F=u("div"),z=u("div"),z.textContent=ie,j=M(),O=u("div"),J=u("div"),oe(ee.$$.fragment),G=M(),he=u("div"),he.textContent=be,we=M(),me=u("div"),me.innerHTML=qe,De=M(),fe=u("li"),_e=u("div"),B=u("div"),B.textContent=Q,ye=M(),ne=u("div"),ve=u("div"),oe(ge.$$.fragment),ke=M(),Ce=u("div"),Ce.textContent=Je,it=M(),ze=u("div"),ze.innerHTML=It,We=M(),Be=u("li"),Ie=u("div"),Fe=u("div"),Fe.textContent=Ke,ot=M(),He=u("div"),je=u("div"),oe(Se.$$.fragment),ct=M(),Ge=u("div"),Ge.textContent=ps,Yt=M(),Xe=u("div"),Xe.innerHTML=ms,Jt=M(),et=u("li"),Ae=u("div"),tt=u("div"),tt.textContent=hs,Kt=M(),Ue=u("div"),dt=u("div"),oe(st.$$.fragment),Xt=M(),ut=u("div"),ut.textContent=vs,es=M(),at=u("div"),at.innerHTML=gs,this.h()},l(te){t=f(te,"DIV",{class:!0});var xe=y(t);s=f(xe,"H5",{id:!0,class:!0,"data-svelte-h":!0}),A(s)!=="svelte-1huxu54"&&(s.textContent=a),n=T(xe),ce(r.$$.fragment,xe),xe.forEach(v),c=T(te),i=f(te,"P",{class:!0});var ss=y(i);p=Le(ss,e[1]),x=Le(ss,":00:00"),ss.forEach(v),D=T(te),_=f(te,"P",{class:!0});var bs=y(_);g=Le(bs,e[2]),bs.forEach(v),k=T(te),b=f(te,"UL",{class:!0});var Me=y(b);o=f(Me,"LI",{class:!0,"data-svelte-h":!0}),A(o)!=="svelte-1okprzs"&&(o.innerHTML=h),w=T(Me),E=f(Me,"LI",{class:!0});var ws=y(E);m=f(ws,"DIV",{class:!0});var pt=y(m);S=f(pt,"DIV",{class:!0,"data-svelte-h":!0}),A(S)!=="svelte-1h197q2"&&(S.textContent=V),L=T(pt),q=f(pt,"DIV",{class:!0});var qt=y(q);P=f(qt,"DIV",{class:!0});var ys=y(P);ce(N.$$.fragment,ys),ys.forEach(v),$=T(qt),Z=f(qt,"DIV",{"data-svelte-h":!0}),A(Z)!=="svelte-4ix3sq"&&(Z.textContent=Y),qt.forEach(v),I=T(pt),C=f(pt,"DIV",{class:!0,"data-svelte-h":!0}),A(C)!=="svelte-qxblu2"&&(C.innerHTML=W),pt.forEach(v),ws.forEach(v),X=T(Me),le=f(Me,"LI",{class:!0});var ks=y(le);F=f(ks,"DIV",{class:!0});var mt=y(F);z=f(mt,"DIV",{class:!0,"data-svelte-h":!0}),A(z)!=="svelte-1h197q2"&&(z.textContent=ie),j=T(mt),O=f(mt,"DIV",{class:!0});var zt=y(O);J=f(zt,"DIV",{class:!0});var xs=y(J);ce(ee.$$.fragment,xs),xs.forEach(v),G=T(zt),he=f(zt,"DIV",{"data-svelte-h":!0}),A(he)!=="svelte-4ix3sq"&&(he.textContent=be),zt.forEach(v),we=T(mt),me=f(mt,"DIV",{class:!0,"data-svelte-h":!0}),A(me)!=="svelte-qmwp9q"&&(me.innerHTML=qe),mt.forEach(v),ks.forEach(v),De=T(Me),fe=f(Me,"LI",{class:!0});var Ds=y(fe);_e=f(Ds,"DIV",{class:!0});var ht=y(_e);B=f(ht,"DIV",{class:!0,"data-svelte-h":!0}),A(B)!=="svelte-1h197q2"&&(B.textContent=Q),ye=T(ht),ne=f(ht,"DIV",{class:!0});var Bt=y(ne);ve=f(Bt,"DIV",{class:!0});var Is=y(ve);ce(ge.$$.fragment,Is),Is.forEach(v),ke=T(Bt),Ce=f(Bt,"DIV",{"data-svelte-h":!0}),A(Ce)!=="svelte-1rtzshw"&&(Ce.textContent=Je),Bt.forEach(v),it=T(ht),ze=f(ht,"DIV",{class:!0,"data-svelte-h":!0}),A(ze)!=="svelte-cg7ylw"&&(ze.innerHTML=It),ht.forEach(v),Ds.forEach(v),We=T(Me),Be=f(Me,"LI",{class:!0});var Es=y(Be);Ie=f(Es,"DIV",{class:!0});var vt=y(Ie);Fe=f(vt,"DIV",{class:!0,"data-svelte-h":!0}),A(Fe)!=="svelte-1h197q2"&&(Fe.textContent=Ke),ot=T(vt),He=f(vt,"DIV",{class:!0});var Ft=y(He);je=f(Ft,"DIV",{class:!0});var Cs=y(je);ce(Se.$$.fragment,Cs),Cs.forEach(v),ct=T(Ft),Ge=f(Ft,"DIV",{"data-svelte-h":!0}),A(Ge)!=="svelte-4ix3sq"&&(Ge.textContent=ps),Ft.forEach(v),Yt=T(vt),Xe=f(vt,"DIV",{class:!0,"data-svelte-h":!0}),A(Xe)!=="svelte-qxblu2"&&(Xe.innerHTML=ms),vt.forEach(v),Es.forEach(v),Jt=T(Me),et=f(Me,"LI",{class:!0});var Ss=y(et);Ae=f(Ss,"DIV",{class:!0});var gt=y(Ae);tt=f(gt,"DIV",{class:!0,"data-svelte-h":!0}),A(tt)!=="svelte-1h197q2"&&(tt.textContent=hs),Kt=T(gt),Ue=f(gt,"DIV",{class:!0});var At=y(Ue);dt=f(At,"DIV",{class:!0});var Ms=y(dt);ce(st.$$.fragment,Ms),Ms.forEach(v),Xt=T(At),ut=f(At,"DIV",{"data-svelte-h":!0}),A(ut)!=="svelte-4ix3sq"&&(ut.textContent=vs),At.forEach(v),es=T(gt),at=f(gt,"DIV",{class:!0,"data-svelte-h":!0}),A(at)!=="svelte-1ggzt1v"&&(at.innerHTML=gs),gt.forEach(v),Ss.forEach(v),Me.forEach(v),this.h()},h(){d(s,"id","drawer-label"),d(s,"class","inline-flex items-center mb-4 text-base font-semibold text-gray-800 dark:text-gray-400"),d(t,"class","flex items-center"),d(i,"class","text-sm text-gray-500 dark:text-gray-400 float-right"),d(_,"class","text-sm text-gray-500 dark:text-gray-400 mb-2"),d(o,"class","list-group-item"),d(S,"class","p-2 width10 svelte-27zeta"),d(P,"class","mr-1"),d(q,"class","p-2 width70 flex svelte-27zeta"),d(C,"class","p-2 width20 svelte-27zeta"),d(m,"class","d-flex justify-content-start"),d(E,"class","list-group-item text-xs"),d(z,"class","p-2 width10 svelte-27zeta"),d(J,"class","mr-1"),d(O,"class","p-2 width70 flex svelte-27zeta"),d(me,"class","p-2 width20 svelte-27zeta"),d(F,"class","d-flex justify-content-start"),d(le,"class","list-group-item text-xs"),d(B,"class","p-2 width10 svelte-27zeta"),d(ve,"class","mr-1"),d(ne,"class","p-2 flex width70 svelte-27zeta"),d(ze,"class","p-2 width20 svelte-27zeta"),d(_e,"class","d-flex justify-content-start"),d(fe,"class","list-group-item text-xs"),d(Fe,"class","p-2 width10 svelte-27zeta"),d(je,"class","mr-1"),d(He,"class","p-2 width70 flex svelte-27zeta"),d(Xe,"class","p-2 width20 svelte-27zeta"),d(Ie,"class","d-flex justify-content-start"),d(Be,"class","list-group-item text-xs"),d(tt,"class","p-2 width10 svelte-27zeta"),d(dt,"class","mr-1"),d(Ue,"class","p-2 width70 flex svelte-27zeta"),d(at,"class","p-2 width20 svelte-27zeta"),d(Ae,"class","d-flex justify-content-start"),d(et,"class","list-group-item text-xs"),d(b,"class","list-group text-sm")},m(te,xe){se(te,t,xe),l(t,s),l(t,n),de(r,t,null),se(te,c,xe),se(te,i,xe),l(i,p),l(i,x),se(te,D,xe),se(te,_,xe),l(_,g),se(te,k,xe),se(te,b,xe),l(b,o),l(b,w),l(b,E),l(E,m),l(m,S),l(m,L),l(m,q),l(q,P),de(N,P,null),l(q,$),l(q,Z),l(m,I),l(m,C),l(b,X),l(b,le),l(le,F),l(F,z),l(F,j),l(F,O),l(O,J),de(ee,J,null),l(O,G),l(O,he),l(F,we),l(F,me),l(b,De),l(b,fe),l(fe,_e),l(_e,B),l(_e,ye),l(_e,ne),l(ne,ve),de(ge,ve,null),l(ne,ke),l(ne,Ce),l(_e,it),l(_e,ze),l(b,We),l(b,Be),l(Be,Ie),l(Ie,Fe),l(Ie,ot),l(Ie,He),l(He,je),de(Se,je,null),l(He,ct),l(He,Ge),l(Ie,Yt),l(Ie,Xe),l(b,Jt),l(b,et),l(et,Ae),l(Ae,tt),l(Ae,Kt),l(Ae,Ue),l(Ue,dt),de(st,dt,null),l(Ue,Xt),l(Ue,ut),l(Ae,es),l(Ae,at),ft=!0,ts||(_s=[ae(E,"click",e[6]),ae(le,"click",e[7]),ae(fe,"click",e[8]),ae(Be,"click",e[9]),ae(et,"click",e[10])],ts=!0)},p(te,xe){(!ft||xe&2)&&wt(p,te[1]),(!ft||xe&4)&&wt(g,te[2])},i(te){ft||(U(r.$$.fragment,te),U(N.$$.fragment,te),U(ee.$$.fragment,te),U(ge.$$.fragment,te),U(Se.$$.fragment,te),U(st.$$.fragment,te),ft=!0)},o(te){K(r.$$.fragment,te),K(N.$$.fragment,te),K(ee.$$.fragment,te),K(ge.$$.fragment,te),K(Se.$$.fragment,te),K(st.$$.fragment,te),ft=!1},d(te){te&&(v(t),v(c),v(i),v(D),v(_),v(k),v(b)),ue(r),ue(N),ue(ee),ue(ge),ue(Se),ue(st),ts=!1,Dt(_s)}}}function ol(e){let t,s,a;function n(c){e[11](c)}let r={activateClickOutside:cl,backdrop:dl,rightOffset:"top-14 h-screen end-0",placement:"right",transitionType:"fly",transitionParams:e[3],id:"sidebar6",$$slots:{default:[il]},$$scope:{ctx:e}};return e[0]!==void 0&&(r.hidden=e[0]),t=new Qs({props:r}),Ee.push(()=>Oe(t,"hidden",n)),{c(){oe(t.$$.fragment)},l(c){ce(t.$$.fragment,c)},m(c,i){de(t,c,i),a=!0},p(c,[i]){const p={};i&65543&&(p.$$scope={dirty:i,ctx:c}),!s&&i&1&&(s=!0,p.hidden=c[0],Ne(()=>s=!1)),t.$set(p)},i(c){a||(U(t.$$.fragment,c),a=!0)},o(c){K(t.$$.fragment,c),a=!1},d(c){ue(t,c)}}}let cl=!1,dl=!1;function ul(e,t,s){let a,n,r,c,i,p,x;H(e,Hs,m=>s(12,a=m)),H(e,ds,m=>s(13,n=m)),H(e,cs,m=>s(14,r=m)),H(e,Qe,m=>s(15,c=m)),H(e,Re,m=>s(0,i=m)),H(e,_t,m=>s(1,p=m)),H(e,is,m=>s(2,x=m));let D={x:320,duration:200,easing:Js};function _(m,S,V){R(Qe,c=!1,c),R(cs,r=m,r),R(ds,n=S,n),R(Hs,a=V,a)}const g=()=>R(Re,i=!0,i),k=()=>_(11.2,100.2,"Thailand, Bangkok"),b=()=>_(11.2,100.2,"Thailand, Bangkok"),o=()=>_(11.2,100.2,"Thailand, Bangkok"),h=()=>_(11.2,100.2,"Thailand, Bangkok"),w=()=>_(11.2,100.2,"Thailand, Bangkok");function E(m){i=m,Re.set(i)}return[i,p,x,D,_,g,k,b,o,h,w,E]}class fl extends $e{constructor(t){super(),Ve(this,t,ul,ol,Pe,{})}}function Gs(e,t,s){const a=e.slice();return a[5]=t[s],a}function Os(e){let t,s=e[5].name+"",a;return{c(){t=u("option"),a=Te(s),this.h()},l(n){t=f(n,"OPTION",{});var r=y(t);a=Le(r,s),r.forEach(v),this.h()},h(){t.__value=e[5].value,nt(t,t.__value)},m(n,r){se(n,t,r),l(t,a)},p:pe,d(n){n&&v(t)}}}function pl(e){let t,s,a='<img class="d-block" src="assets/img/icon/close.svg" alt=""/>',n,r,c='<p class="icon me-15 mb-0"><img style="height: 25px;" src="assets/img/icon/head-air-quality.svg" alt=""/></p> <p class="text blue-600 text-2lg font-bold mb-0">Air Pollutant</p>',i,p,x,D="Select air pollutant",_,g,k,b,o=yt(e[2]),h=[];for(let w=0;w<o.length;w+=1)h[w]=Os(Gs(e,o,w));return{c(){t=u("div"),s=u("a"),s.innerHTML=a,n=M(),r=u("div"),r.innerHTML=c,i=M(),p=u("div"),x=u("p"),x.textContent=D,_=M(),g=u("select");for(let w=0;w<h.length;w+=1)h[w].c();this.h()},l(w){t=f(w,"DIV",{id:!0,class:!0});var E=y(t);s=f(E,"A",{class:!0,"data-svelte-h":!0}),A(s)!=="svelte-1w7gzh6"&&(s.innerHTML=a),n=T(E),r=f(E,"DIV",{class:!0,"data-svelte-h":!0}),A(r)!=="svelte-12jx70m"&&(r.innerHTML=c),i=T(E),p=f(E,"DIV",{class:!0});var m=y(p);x=f(m,"P",{class:!0,"data-svelte-h":!0}),A(x)!=="svelte-1cqawmn"&&(x.textContent=D),_=T(m),g=f(m,"SELECT",{class:!0,id:!0});var S=y(g);for(let V=0;V<h.length;V+=1)h[V].l(S);S.forEach(v),m.forEach(v),E.forEach(v),this.h()},h(){d(s,"class","btn-close border-0 d-flex align-items-center justify-content-center"),d(r,"class","head border-bottom border-green d-flex align-items-center mb-1 pb-1 w-100"),d(x,"class","blue-600"),d(g,"class","nice-select wide selectize"),d(g,"id","select-pollutant"),e[1]===void 0&&Ut(()=>e[4].call(g)),d(p,"class","box__description"),d(t,"id","select_air_pollutant"),d(t,"class","box__info-air-quality p-2 rounded")},m(w,E){se(w,t,E),l(t,s),l(t,n),l(t,r),l(t,i),l(t,p),l(p,x),l(p,_),l(p,g);for(let m=0;m<h.length;m+=1)h[m]&&h[m].m(g,null);Ye(g,e[1],!0),k||(b=[ae(s,"click",e[3]),ae(g,"change",e[4])],k=!0)},p(w,[E]){if(E&4){o=yt(w[2]);let m;for(m=0;m<o.length;m+=1){const S=Gs(w,o,m);h[m]?h[m].p(S,E):(h[m]=Os(S),h[m].c(),h[m].m(g,null))}for(;m<h.length;m+=1)h[m].d(1);h.length=o.length}E&6&&Ye(g,w[1])},i:pe,o:pe,d(w){w&&v(t),fs(h,w),k=!1,Dt(b)}}}function ml(e,t,s){let a,n;H(e,xt,p=>s(0,a=p)),H(e,Vt,p=>s(1,n=p));let r=[{value:"pm25",name:"PM2.5"},{value:"no2",name:"Nitrogen dioxide (NO2)"}];setTimeout(()=>{NiceSelect.bind(document.querySelector("#select-pollutant"))},50);const c=()=>R(xt,a=!1,a);function i(){n=Zt(this),Vt.set(n),s(2,r)}return[a,n,r,c,i]}class hl extends $e{constructor(t){super(),Ve(this,t,ml,pl,Pe,{})}}function Xs(e,t,s,a){e.data.labels=t,e.data.datasets[0].data=s,e.update()}function ea(e){e.data.labels=[],e.data.datasets[0].data=[],e.update()}function vl(e){let t,s,a,n,r,c,i,p,x=`<div><p class="max-w-lg mb-6 text-sm text-gray-500 dark:text-gray-400">GEOS Air Quality Forecasts bias-corrected using machine learning algorithm</p></div> <div class="float-right"><div class="flex"><div class="mr-2"><span class="badge rounded-pill bg-success svelte-1925r2e">Min 234
						<p class="svelte-1925r2e">2024-01-01 01:00:00</p></span></div> <div class=""><span class="badge rounded-pill bg-warning svelte-1925r2e">Max 234
						<p class="svelte-1925r2e">2024-01-01 01:00:00</p></span></div></div></div>`,D,_,g,k;return a=new ga({props:{class:"w-4 h-4 me-2.5"}}),c=new Ys({props:{class:"mb-4 dark:text-white"}}),c.$on("click",e[5]),{c(){t=u("div"),s=u("h5"),oe(a.$$.fragment),n=Te("PM 2.5 forecast of Thailand, Bangkok"),r=M(),oe(c.$$.fragment),i=M(),p=u("div"),p.innerHTML=x,D=M(),_=u("div"),g=u("canvas"),this.h()},l(b){t=f(b,"DIV",{class:!0});var o=y(t);s=f(o,"H5",{id:!0,class:!0});var h=y(s);ce(a.$$.fragment,h),n=Le(h,"PM 2.5 forecast of Thailand, Bangkok"),h.forEach(v),r=T(o),ce(c.$$.fragment,o),o.forEach(v),i=T(b),p=f(b,"DIV",{class:!0,"data-svelte-h":!0}),A(p)!=="svelte-1eugj9f"&&(p.innerHTML=x),D=T(b),_=f(b,"DIV",{class:!0,style:!0});var w=y(_);g=f(w,"CANVAS",{id:!0}),y(g).forEach(v),w.forEach(v),this.h()},h(){d(s,"id","drawer-label"),d(s,"class","inline-flex items-center mb-4 text-base font-semibold text-gray-500 dark:text-gray-400"),d(t,"class","flex items-center"),d(p,"class","flex justify-between"),d(g,"id","myChart2"),d(_,"class","chart-container"),Ze(_,"position","relative"),Ze(_,"height","15vh"),Ze(_,"width","90vw")},m(b,o){se(b,t,o),l(t,s),de(a,s,null),l(s,n),l(t,r),de(c,t,null),se(b,i,o),se(b,p,o),se(b,D,o),se(b,_,o),l(_,g),e[6](g),k=!0},p:pe,i(b){k||(U(a.$$.fragment,b),U(c.$$.fragment,b),k=!0)},o(b){K(a.$$.fragment,b),K(c.$$.fragment,b),k=!1},d(b){b&&(v(t),v(i),v(p),v(D),v(_)),ue(a),ue(c),e[6](null)}}}function gl(e){let t,s,a;function n(c){e[7](c)}let r={activateClickOutside:_l,backdrop:bl,placement:"bottom",width:"w-full",transitionType:"fly",transitionParams:e[2],id:"sidebar8",class:"shadow-lg",$$slots:{default:[vl]},$$scope:{ctx:e}};return e[0]!==void 0&&(r.hidden=e[0]),t=new Qs({props:r}),Ee.push(()=>Oe(t,"hidden",n)),{c(){oe(t.$$.fragment)},l(c){ce(t.$$.fragment,c)},m(c,i){de(t,c,i),a=!0},p(c,[i]){const p={};i&4099&&(p.$$scope={dirty:i,ctx:c}),!s&&i&1&&(s=!0,p.hidden=c[0],Ne(()=>s=!1)),t.$set(p)},i(c){a||(U(t.$$.fragment,c),a=!0)},o(c){K(t.$$.fragment,c),a=!1},d(c){ue(t,c)}}}let _l=!1,bl=!1;function wl(e,t,s){let a,n,r,c;H(e,cs,o=>s(3,a=o)),H(e,ds,o=>s(4,n=o)),H(e,Qe,o=>s(0,r=o)),H(e,Qt,o=>s(10,c=o));let i,p,x,D={y:320,duration:200,easing:Js};async function _(o,h){const w=c.replace("-","").replace("-","");let m=await(await fetch("/svelte-api/get_chart_data?"+new URLSearchParams({action:"get-chartData",freq_chart:"3dayrecent",geom_data:o,interaction:h,run_date_chart:w+".nc",run_type_chart:"geos",variable:"BC_MLPM25"}),{method:"GET"})).json();if(m){let V=m.response.plot,L=V.map(P=>new Date(P[0]).toLocaleString("en-GB",{hour12:!1}));V.map(function(P){return P[1]<20?"#8b81ba":P[1]<40?"#6ca7cc":P[1]<60?"#91d2bd":P[1]<80?"#fbfbcf":P[1]<100?"#b44674":"#ddd"});let q=V.map(P=>P[1]);i=p.getContext("2d"),x=new Ks(i,{type:"line",options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},filler:{propagate:!1}},scales:{x:{ticks:{font:{size:10},type:"time",autoSkip:!0,maxTicksLimit:3,autoSkipPadding:10},gridLines:{display:!1}},y:{ticks:{font:{size:10}},title:{display:!0,text:"PM 2.5",font:{size:10}}}}},data:{labels:[],datasets:[{label:"PM2.5",backgroundColor:"rgb(255, 165, 0, 0.2)",borderColor:"rgb(255, 165, 0, 0.2)",data:[],lineTension:.3,fill:{target:"origin",above:"rgba(255, 165, 0, 0.2)",below:"rgba(255, 165, 0, 0.2)"}}]}}),ea(x),Xs(x,L,q)}}const g=()=>R(Qe,r=!0,r);function k(o){Ee[o?"unshift":"push"](()=>{p=o,s(1,p)})}function b(o){r=o,Qe.set(r)}return e.$$.update=()=>{if(e.$$.dirty&25&&r===!1){let o=n.toString()+","+a.toString();_(o,"Point")}},[r,p,D,a,n,g,k,b]}class yl extends $e{constructor(t){super(),Ve(this,t,wl,gl,Pe,{})}}const Wt=re(!1);Wt.subscribe,Wt.set,Wt.update;function Ns(e){let t,s;return t=new Wa({}),{c(){oe(t.$$.fragment)},l(a){ce(t.$$.fragment,a)},m(a,n){de(t,a,n),s=!0},i(a){s||(U(t.$$.fragment,a),s=!0)},o(a){K(t.$$.fragment,a),s=!1},d(a){ue(t,a)}}}function Rs(e){let t,s;return t=new Qa({}),{c(){oe(t.$$.fragment)},l(a){ce(t.$$.fragment,a)},m(a,n){de(t,a,n),s=!0},i(a){s||(U(t.$$.fragment,a),s=!0)},o(a){K(t.$$.fragment,a),s=!1},d(a){ue(t,a)}}}function Ws(e){let t,s;return t=new Ka({}),{c(){oe(t.$$.fragment)},l(a){ce(t.$$.fragment,a)},m(a,n){de(t,a,n),s=!0},i(a){s||(U(t.$$.fragment,a),s=!0)},o(a){K(t.$$.fragment,a),s=!1},d(a){ue(t,a)}}}function Us(e){let t,s;return t=new hl({}),{c(){oe(t.$$.fragment)},l(a){ce(t.$$.fragment,a)},m(a,n){de(t,a,n),s=!0},i(a){s||(U(t.$$.fragment,a),s=!0)},o(a){K(t.$$.fragment,a),s=!1},d(a){ue(t,a)}}}function Zs(e){let t,s;return t=new rl({}),{c(){oe(t.$$.fragment)},l(a){ce(t.$$.fragment,a)},m(a,n){de(t,a,n),s=!0},i(a){s||(U(t.$$.fragment,a),s=!0)},o(a){K(t.$$.fragment,a),s=!1},d(a){ue(t,a)}}}function kl(e){let t,s="Air quality monitoring";return{c(){t=u("h2"),t.textContent=s,this.h()},l(a){t=f(a,"H2",{class:!0,"data-svelte-h":!0}),A(t)!=="svelte-bf0pzk"&&(t.textContent=s),this.h()},h(){d(t,"class","font-meduim text-lg text-slate-700 mb-0")},m(a,n){se(a,t,n)},p:pe,d(a){a&&v(t)}}}function xl(e){let t,s,a,n,r,c;return{c(){t=u("p"),s=Te("Location: "),a=Te(e[1]),n=M(),r=u("div"),c=u("canvas"),this.h()},l(i){t=f(i,"P",{class:!0});var p=y(t);s=Le(p,"Location: "),a=Le(p,e[1]),p.forEach(v),n=T(i),r=f(i,"DIV",{class:!0,style:!0});var x=y(r);c=f(x,"CANVAS",{id:!0}),y(c).forEach(v),x.forEach(v),this.h()},h(){d(t,"class","mt-0 font-light text-xs text-slate-500"),d(c,"id","myChart"),d(r,"class","chart-container"),Ze(r,"position","relative"),Ze(r,"height","15vh"),Ze(r,"width","40vw")},m(i,p){se(i,t,p),l(t,s),l(t,a),se(i,n,p),se(i,r,p),l(r,c),e[19](c)},p(i,p){p&2&&wt(a,i[1])},d(i){i&&(v(t),v(n),v(r)),e[19](null)}}}function Dl(e){let t,s="Air quality monitoring";return{c(){t=u("h2"),t.textContent=s,this.h()},l(a){t=f(a,"H2",{slot:!0,class:!0,"data-svelte-h":!0}),A(t)!=="svelte-cd3bw0"&&(t.textContent=s),this.h()},h(){d(t,"slot","header"),d(t,"class","font-meduim text-lg text-slate-700 mb-0")},m(a,n){se(a,t,n)},p:pe,d(a){a&&v(t)}}}function Il(e){let t,s,a,n,r,c,i,p,x,D,_,g,k,b='<img src="assets/img/icon/icon-plus.svg" alt=""/>',o,h,w='<img src="assets/img/icon/icon-minus.svg" alt=""/>',E,m,S,V,L,q,P,N,$,Z,Y,I,C,W,X,le,F,z,ie,j=e[8]&&Ns(),O=e[9]&&Rs(),J=e[10]&&Ws();p=new Ga({});let ee=e[6]&&Us(),G=e[7]&&Zs();function he(B){e[16](B)}let be={};e[2]!==void 0&&(be.map=e[2]),S=new $a({props:be}),Ee.push(()=>Oe(S,"map",he)),P=new Ha({});function we(B){e[17](B)}let me={};e[0]!==void 0&&(me.hiddenDrawer=e[0]),$=new fl({props:me}),Ee.push(()=>Oe($,"hiddenDrawer",we));function qe(B){e[18](B)}let De={$$slots:{default:[kl]},$$scope:{ctx:e}};e[5]!==void 0&&(De.hiddenDrawer=e[5]),I=new yl({props:De}),Ee.push(()=>Oe(I,"hiddenDrawer",qe));function fe(B){e[20](B)}let _e={$$slots:{header:[Dl],default:[xl]},$$scope:{ctx:e}};return e[3]!==void 0&&(_e.showModal=e[3]),X=new Fa({props:_e}),Ee.push(()=>Oe(X,"showModal",fe)),{c(){t=u("div"),s=u("div"),a=u("div"),j&&j.c(),n=M(),O&&O.c(),r=M(),J&&J.c(),c=M(),i=u("div"),oe(p.$$.fragment),x=M(),ee&&ee.c(),D=M(),G&&G.c(),_=M(),g=u("div"),k=u("a"),k.innerHTML=b,o=M(),h=u("a"),h.innerHTML=w,E=M(),m=u("div"),oe(S.$$.fragment),L=M(),q=u("div"),oe(P.$$.fragment),N=M(),oe($.$$.fragment),Y=M(),oe(I.$$.fragment),W=M(),oe(X.$$.fragment),this.h()},l(B){t=f(B,"DIV",{id:!0});var Q=y(t);s=f(Q,"DIV",{class:!0});var ye=y(s);a=f(ye,"DIV",{class:!0});var ne=y(a);j&&j.l(ne),n=T(ne),O&&O.l(ne),r=T(ne),J&&J.l(ne),ne.forEach(v),ye.forEach(v),c=T(Q),i=f(Q,"DIV",{id:!0,class:!0});var ve=y(i);ce(p.$$.fragment,ve),x=T(ve),ee&&ee.l(ve),D=T(ve),G&&G.l(ve),ve.forEach(v),_=T(Q),g=f(Q,"DIV",{class:!0});var ge=y(g);k=f(ge,"A",{class:!0,"data-svelte-h":!0}),A(k)!=="svelte-1kv41tv"&&(k.innerHTML=b),o=T(ge),h=f(ge,"A",{class:!0,"data-svelte-h":!0}),A(h)!=="svelte-15v47jt"&&(h.innerHTML=w),ge.forEach(v),E=T(Q),m=f(Q,"DIV",{class:!0});var ke=y(m);ce(S.$$.fragment,ke),ke.forEach(v),L=T(Q),q=f(Q,"DIV",{class:!0});var Ce=y(q);ce(P.$$.fragment,Ce),Ce.forEach(v),N=T(Q),ce($.$$.fragment,Q),Y=T(Q),ce(I.$$.fragment,Q),W=T(Q),ce(X.$$.fragment,Q),Q.forEach(v),this.h()},h(){d(a,"class","slider"),d(s,"class","box__info-ugm"),d(i,"id","right-component"),d(i,"class","box__tool bg-white py-2 rounded"),d(k,"class","btn-plus d-flex align-items-center justify-content-center mb-1"),d(h,"class","btn-minus d-flex align-items-center justify-content-center"),d(g,"class","box__zoom-map"),d(m,"class","map overflow-hidden"),d(q,"class","absolute dateTime-position w-full flex justify-center items-stretch svelte-1mxola6"),d(t,"id","box__home")},m(B,Q){se(B,t,Q),l(t,s),l(s,a),j&&j.m(a,null),l(a,n),O&&O.m(a,null),l(a,r),J&&J.m(a,null),l(t,c),l(t,i),de(p,i,null),l(i,x),ee&&ee.m(i,null),l(i,D),G&&G.m(i,null),l(t,_),l(t,g),l(g,k),l(g,o),l(g,h),l(t,E),l(t,m),de(S,m,null),l(t,L),l(t,q),de(P,q,null),l(t,N),de($,t,null),l(t,Y),de(I,t,null),l(t,W),de(X,t,null),F=!0,z||(ie=[ae(k,"click",e[11]),ae(h,"click",e[12])],z=!0)},p(B,[Q]){B[8]?j?Q&256&&U(j,1):(j=Ns(),j.c(),U(j,1),j.m(a,n)):j&&(Ct(),K(j,1,1,()=>{j=null}),Et()),B[9]?O?Q&512&&U(O,1):(O=Rs(),O.c(),U(O,1),O.m(a,r)):O&&(Ct(),K(O,1,1,()=>{O=null}),Et()),B[10]?J?Q&1024&&U(J,1):(J=Ws(),J.c(),U(J,1),J.m(a,null)):J&&(Ct(),K(J,1,1,()=>{J=null}),Et()),B[6]?ee?Q&64&&U(ee,1):(ee=Us(),ee.c(),U(ee,1),ee.m(i,D)):ee&&(Ct(),K(ee,1,1,()=>{ee=null}),Et()),B[7]?G?Q&128&&U(G,1):(G=Zs(),G.c(),U(G,1),G.m(i,null)):G&&(Ct(),K(G,1,1,()=>{G=null}),Et());const ye={};!V&&Q&4&&(V=!0,ye.map=B[2],Ne(()=>V=!1)),S.$set(ye);const ne={};!Z&&Q&1&&(Z=!0,ne.hiddenDrawer=B[0],Ne(()=>Z=!1)),$.$set(ne);const ve={};Q&134217728&&(ve.$$scope={dirty:Q,ctx:B}),!C&&Q&32&&(C=!0,ve.hiddenDrawer=B[5],Ne(()=>C=!1)),I.$set(ve);const ge={};Q&134217746&&(ge.$$scope={dirty:Q,ctx:B}),!le&&Q&8&&(le=!0,ge.showModal=B[3],Ne(()=>le=!1)),X.$set(ge)},i(B){F||(U(j),U(O),U(J),U(p.$$.fragment,B),U(ee),U(G),U(S.$$.fragment,B),U(P.$$.fragment,B),U($.$$.fragment,B),U(I.$$.fragment,B),U(X.$$.fragment,B),F=!0)},o(B){K(j),K(O),K(J),K(p.$$.fragment,B),K(ee),K(G),K(S.$$.fragment,B),K(P.$$.fragment,B),K($.$$.fragment,B),K(I.$$.fragment,B),K(X.$$.fragment,B),F=!1},d(B){B&&v(t),j&&j.d(),O&&O.d(),J&&J.d(),ue(p),ee&&ee.d(),G&&G.d(),ue(S),ue(P),ue($),ue(I),ue(X),z=!1,Dt(ie)}}}function El(e,t,s){let a,n,r,c,i,p,x,D,_,g,k,b,o;H(e,Re,C=>s(0,a=C)),H(e,Ia,C=>s(13,n=C)),H(e,Da,C=>s(1,r=C)),H(e,Wt,C=>s(14,c=C)),H(e,os,C=>s(15,i=C)),H(e,Qt,C=>s(23,p=C)),H(e,Pt,C=>s(24,x=C)),H(e,Qe,C=>s(5,D=C)),H(e,xt,C=>s(6,_=C)),H(e,kt,C=>s(7,g=C)),H(e,Ht,C=>s(8,k=C)),H(e,rt,C=>s(9,b=C)),H(e,$t,C=>s(10,o=C));let h,w=!1,E,m,S;R(Ht,k=!0,k),R(kt,g=!1,g),R(Re,a=!1,a),R(xt,_=!1,_),R(Qe,D=!0,D),R(Pt,x="fires_viirs_24",x),setTimeout(()=>{E=m.getContext("2d"),S=new Ks(E,{type:"bar",options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{x:{ticks:{font:{size:10},type:"time",autoSkip:!0,maxTicksLimit:3,autoSkipPadding:10},gridLines:{display:!1}},y:{ticks:{font:{size:10}},title:{display:!0,text:"PM 2.5",font:{size:10}}}}},data:{labels:[],datasets:[{label:"PM2.5",backgroundColor:"rgb(126, 58, 242)",borderColor:"rgb(126, 58, 242)",data:[],backgroundColor:[],lineTension:.3}]}})},200);async function V(C,W){const X=p;let F=await(await fetch("/svelte-api/get_chart_data?"+new URLSearchParams({action:"get-chartData",freq_chart:"3dayrecent",geom_data:C,interaction:W,run_date_chart:X+".nc",run_type_chart:"geos",variable:"BC_MLPM25"}),{method:"GET"})).json();if(F){let ie=F.response.plot,j=ie.map(G=>new Date(G[0]).toLocaleString("en-GB",{hour12:!1})),O=ie.map(function(G){return G[1]<20?"#8b81ba":G[1]<40?"#6ca7cc":G[1]<60?"#91d2bd":G[1]<80?"#fbfbcf":G[1]<100?"#b44674":"#ddd"});console.log(O);let J=ie.map(G=>G[1]);ea(S),Xs(S,j,J);let ee=document.querySelector(".mapboxgl-popup-content");ee.innerHTML+='<div class="point-popup-val">'+J[0]+' µgm<sup>3</sup> <span id="open-statistic-button"  style="float: right; cursor: pointer;"><i class="fa fa-signal mr-2 text-sm from-purple-600 to-blue-500 to-blue-600 bg-gradient-to-r bg-clip-text text-transparent" aria-hidden="true"></i></span> </div>',document.getElementById("open-statistic-button").addEventListener("click",function(G){s(3,w=!0)})}console.log(F.data)}async function L(){let W=await(await fetch("/svelte-api/get_station?data=2024-01-09+11:00:00",{method:"GET"})).json(),X=Ca(W.response);Ea(h,Nt,X)}function q(){let C=h.getZoom();h.setZoom(C+1)}function P(){let C=h.getZoom();h.setZoom(C-1)}function N(C){h=C,s(2,h)}function $(C){a=C,Re.set(a)}function Z(C){D=C,Qe.set(D)}function Y(C){Ee[C?"unshift":"push"](()=>{m=C,s(4,m)})}function I(C){w=C,s(3,w),s(14,c)}return e.$$.update=()=>{e.$$.dirty&32768&&i&&L(),e.$$.dirty&16384&&c&&s(3,w=!0),e.$$.dirty&8194&&r!==""&&V(r,n),e.$$.dirty&1&&(a||(document.querySelectorAll("#right-component").forEach(C=>C.style.right="330px"),document.querySelectorAll("#timeslider").forEach(C=>C.style.justifyContent="center"))),e.$$.dirty&1&&a&&(document.querySelectorAll("#right-component").forEach(C=>C.style.right="30px"),document.querySelectorAll("#timeslider").forEach(C=>C.style.justifyContent="center"))},[a,r,h,w,m,D,_,g,k,b,o,q,P,n,c,i,N,$,Z,Y,I]}class Ml extends $e{constructor(t){super(),Ve(this,t,El,Il,Pe,{})}}export{Ml as component,Sl as universal};
